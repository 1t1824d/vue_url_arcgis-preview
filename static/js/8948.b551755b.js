"use strict";(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[8948],{88948:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var i=t(63825),s=t(2553),a=(t(57787),t(35425),t(90202),t(92236)),o=t(35680),n=t(20925),l=t(61859),u=t(95661),p=t(19724),c=(t(75065),t(7380)),y=t(71741),f=t(27092),B=t(66667),d=t(7730),g=t(85016),v=t(54787),m=t(12523),P=t(72110),_=t(64316);function b(e){return e.features.map((r=>{const t=d.Z.fromJSON(e.spatialReference),i=c.Z.fromJSON(r);return(0,f.Wg)(i.geometry).spatialReference=t,i}))}function h(e){return(0,f.lV)(e.features.map((r=>((0,f.pC)(r.geometry)&&(r.geometry.spatialReference=e.spatialReference),(0,_.im)(r.geometry)))))}let A=class extends y.wq{constructor(e){super(e),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(e){return h(e)}readPointBarriers(e,r){return h(r.barriers)}readPolylineBarriers(e){return h(e)}readPolygonBarriers(e){return h(e)}readIncidents(e,r){return b(r.saPolylines)}readServiceAreaPolygons(e,r){return b(r.saPolygons)}};(0,i._)([(0,s.Cb)({type:[v.Z]})],A.prototype,"facilities",void 0),(0,i._)([(0,B.r)("facilities")],A.prototype,"readFacilities",null),(0,i._)([(0,s.Cb)({type:[g.Z]})],A.prototype,"messages",void 0),(0,i._)([(0,s.Cb)({type:[v.Z]})],A.prototype,"pointBarriers",void 0),(0,i._)([(0,B.r)("pointBarriers",["barriers"])],A.prototype,"readPointBarriers",null),(0,i._)([(0,s.Cb)({type:[m.Z]})],A.prototype,"polylineBarriers",void 0),(0,i._)([(0,B.r)("polylineBarriers")],A.prototype,"readPolylineBarriers",null),(0,i._)([(0,s.Cb)({type:[P.Z]})],A.prototype,"polygonBarriers",void 0),(0,i._)([(0,B.r)("polygonBarriers")],A.prototype,"readPolygonBarriers",null),(0,i._)([(0,s.Cb)({type:[c.Z]})],A.prototype,"serviceAreaPolylines",void 0),(0,i._)([(0,B.r)("serviceAreaPolylines",["saPolylines"])],A.prototype,"readIncidents",null),(0,i._)([(0,s.Cb)({type:[c.Z]})],A.prototype,"serviceAreaPolygons",void 0),(0,i._)([(0,B.r)("serviceAreaPolygons",["saPolygons"])],A.prototype,"readServiceAreaPolygons",null),A=(0,i._)([(0,a.j)("esri.rest.support.ServiceAreaSolveResult")],A);const S=A,C=(0,n.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});async function Z(e,r,t){const i=[],s=[],a={},n={},c=(0,p.en)(e),{path:y}=c;r.facilities&&r.facilities.features&&(0,u.et)(r.facilities.features,s,"facilities.features",a),r.pointBarriers&&r.pointBarriers.features&&(0,u.et)(r.pointBarriers.features,s,"pointBarriers.features",a),r.polylineBarriers&&r.polylineBarriers.features&&(0,u.et)(r.polylineBarriers.features,s,"polylineBarriers.features",a),r.polygonBarriers&&r.polygonBarriers.features&&(0,u.et)(r.polygonBarriers.features,s,"polygonBarriers.features",a);const f=await(0,l.aX)(s);for(const o in a){const e=a[o];i.push(o),n[o]=f.slice(e[0],e[1])}if((0,u.Wf)(n,i)){let e=null;try{e=await(0,u.bI)(y,r.apiKey,t)}catch{}e&&!e.hasZ&&(0,u.ef)(n,i)}for(const o in n)n[o].forEach(((e,t)=>{r.get(o)[t].geometry=e}));const B={...t,query:{...c.query,...C.toQueryParams(r),f:"json"}},{data:d}=await(0,o["default"])(`${y}/solveServiceArea`,B);return S.fromJSON(d)}var k=t(31760);let R=class extends k.Z{constructor(e){super(e),this.url=null}solve(e,r){return Z(this.url,e,r)}};(0,i._)([(0,s.Cb)()],R.prototype,"url",void 0),R=(0,i._)([(0,a.j)("esri.tasks.ServiceAreaTask")],R);const w=R}}]);