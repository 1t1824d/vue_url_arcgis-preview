(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[6996],{83009:function(e,t,n){var r=n(17854),a=n(47293),i=n(1702),u=n(41340),o=n(53111).trim,s=n(81361),c=r.parseInt,l=r.Symbol,p=l&&l.iterator,f=/^[+-]?0x/i,d=i(f.exec),y=8!==c(s+"08")||22!==c(s+"0x16")||p&&!a((function(){c(Object(p))}));e.exports=y?function(e,t){var n=o(u(e));return c(n,t>>>0||(d(f,n)?16:10))}:c},9494:function(e,t,n){var r=n(82109),a=n(83009);r({target:"Number",stat:!0,forced:Number.parseInt!=a},{parseInt:a})},83510:function(e,t,n){var r=n(97235);r("replace")},66826:function(e,t,n){"use strict";n.d(t,{O3:function(){return W},lG:function(){return D},my:function(){return q},q9:function(){return y}});var r=n(9726),a=n(2394),i=n(62032),u=(n(78783),n(33948),n(68309),n(24603),n(28450),n(74916),n(88386),n(39714),n(77601),n(41539),n(70189),n(91038),n(57327),n(47941),n(78975),n(25585)),o=n(39423),s=n(82409),c=n(63390),l=regeneratorRuntime.mark(m),p=regeneratorRuntime.mark(g),f=regeneratorRuntime.mark(h),d={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function y(e){return d[e]}function m(e){var t,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.t0=e.type,a.next="Feature"===a.t0?3:"FeatureCollection"===a.t0?6:25;break;case 3:return a.next=5,e;case 5:return a.abrupt("break",25);case 6:t=(0,i.Z)(e.features),a.prev=7,t.s();case 9:if((n=t.n()).done){a.next=17;break}if(r=n.value,a.t1=r,!a.t1){a.next=15;break}return a.next=15,r;case 15:a.next=9;break;case 17:a.next=22;break;case 19:a.prev=19,a.t2=a["catch"](7),t.e(a.t2);case 22:return a.prev=22,t.f(),a.finish(22);case 25:case"end":return a.stop()}}),l,null,[[7,19,22,25]])}function g(e){var t,n,r,a,u,o,s,c,l;return regeneratorRuntime.wrap((function(p){while(1)switch(p.prev=p.next){case 0:if(e){p.next=2;break}return p.abrupt("return",null);case 2:p.t0=e.type,p.next="Point"===p.t0?5:"LineString"===p.t0||"MultiPoint"===p.t0?8:"MultiLineString"===p.t0||"Polygon"===p.t0?10:"MultiPolygon"===p.t0?27:58;break;case 5:return p.next=7,e.coordinates;case 7:return p.abrupt("break",58);case 8:return p.delegateYield(e.coordinates,"t1",9);case 9:return p.abrupt("break",58);case 10:t=(0,i.Z)(e.coordinates),p.prev=11,t.s();case 13:if((n=t.n()).done){p.next=18;break}return r=n.value,p.delegateYield(r,"t2",16);case 16:p.next=13;break;case 18:p.next=23;break;case 20:p.prev=20,p.t3=p["catch"](11),t.e(p.t3);case 23:return p.prev=23,t.f(),p.finish(23);case 26:return p.abrupt("break",58);case 27:a=(0,i.Z)(e.coordinates),p.prev=28,a.s();case 30:if((u=a.n()).done){p.next=50;break}o=u.value,s=(0,i.Z)(o),p.prev=33,s.s();case 35:if((c=s.n()).done){p.next=40;break}return l=c.value,p.delegateYield(l,"t4",38);case 38:p.next=35;break;case 40:p.next=45;break;case 42:p.prev=42,p.t5=p["catch"](33),s.e(p.t5);case 45:return p.prev=45,s.f(),p.finish(45);case 48:p.next=30;break;case 50:p.next=55;break;case 52:p.prev=52,p.t6=p["catch"](28),a.e(p.t6);case 55:return p.prev=55,a.f(),p.finish(55);case 58:case"end":return p.stop()}}),p,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function h(e){var t,n,r,a,u,c,l,p,d,m,g,h,v,b=arguments;return regeneratorRuntime.wrap((function(f){while(1)switch(f.prev=f.next){case 0:t=b.length>1&&void 0!==b[1]?b[1]:{},n=t.geometryType,r=t.objectIdField,a=(0,i.Z)(e),f.prev=3,a.s();case 5:if((u=a.n()).done){f.next=18;break}if(c=u.value,p=c.geometry,d=c.properties,m=c.id,!p||y(p.type)===n){f.next=10;break}return f.abrupt("continue",16);case 10:return g=d||{},h=null!=(l=g[r])?l:null,r&&null!=m&&!g[r]&&(g[r]=h=m),v=new o.ZP(p?Z(new s.Z,p,t):null,g,null,h),f.next=16,v;case 16:f.next=5;break;case 18:f.next=23;break;case 20:f.prev=20,f.t0=f["catch"](3),a.e(f.t0);case 23:return f.prev=23,a.f(),f.finish(23);case 26:case"end":return f.stop()}}),f,null,[[3,20,23,26]])}function v(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.length>2)return!0}}catch(a){n.e(a)}finally{n.f()}return!1}function b(e){return!k(e)}function w(e){return k(e)}function k(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],a=e[(n+1)%e.length];t+=r[0]*a[1]-a[0]*r[1]}return t<=0}function x(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function Z(e,t,n){switch(t.type){case"LineString":return F(e,t,n);case"MultiLineString":return I(e,t,n);case"MultiPoint":return j(e,t,n);case"MultiPolygon":return S(e,t,n);case"Point":return T(e,t,n);case"Polygon":return R(e,t,n)}}function F(e,t,n){return M(e,t.coordinates,n),e}function I(e,t,n){var r,a=(0,i.Z)(t.coordinates);try{for(a.s();!(r=a.n()).done;){var u=r.value;M(e,u,n)}}catch(o){a.e(o)}finally{a.f()}return e}function j(e,t,n){return M(e,t.coordinates,n),e}function S(e,t,n){var r,a=(0,i.Z)(t.coordinates);try{for(a.s();!(r=a.n()).done;){var u=r.value;P(e,u[0],n);for(var o=1;o<u.length;o++)G(e,u[o],n)}}catch(s){a.e(s)}finally{a.f()}return e}function T(e,t,n){return C(e,t.coordinates,n),e}function R(e,t,n){var r=t.coordinates;P(e,r[0],n);for(var a=1;a<r.length;a++)G(e,r[a],n);return e}function P(e,t,n){var r=x(t);b(r)?O(e,r,n):M(e,r,n)}function G(e,t,n){var r=x(t);w(r)?O(e,r,n):M(e,r,n)}function M(e,t,n){var r,a=(0,i.Z)(t);try{for(a.s();!(r=a.n()).done;){var u=r.value;C(e,u,n)}}catch(o){a.e(o)}finally{a.f()}e.lengths.push(t.length)}function O(e,t,n){for(var r=t.length-1;r>=0;r--)C(e,t[r],n);e.lengths.push(t.length)}function C(e,t,n){var r=(0,a.Z)(t,3),i=r[0],u=r[1],o=r[2];e.coords.push(i,u),n.hasZ&&e.coords.push(o||0)}function N(e){switch((0,r.Z)(e)){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function W(e){if(!e)throw new u.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new u.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!r.test(n))throw new u.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function q(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=[],o=new Set,s=new Set,l=!1,p=null,f=!1,d=a.geometryType,h=void 0===d?null:d,b=!1,w=(0,i.Z)(m(e));try{var k=function(){var e=n.value,a=e.geometry,i=e.properties,c=e.id;if((!a||(h||(h=y(a.type)),y(a.type)===h))&&(l||(l=v(g(a))),f||(f=null!=c,f&&(t=(0,r.Z)(c),p=Object.keys(i).filter((function(e){return i[e]===c})))),f&&null!=c&&(p.length>1?p=p.filter((function(e){return i[e]===c})):1===p.length&&(p=i[p[0]]===c?p:[])),!b&&i)){var d=!0;for(var m in i)if(!o.has(m)){var w=i[m];if(null!=w){var k=N(w);"unknown"!==k?(s.delete(m),o.add(m),u.push({name:m,alias:m,type:k})):s.add(m)}else d=!1,s.add(m)}b=d}};for(w.s();!(n=w.n()).done;)k()}catch(j){w.e(j)}finally{w.f()}var x=p&&1===p.length&&p[0]||null;if(x){var Z,F=(0,i.Z)(u);try{for(F.s();!(Z=F.n()).done;){var I=Z.value;if(I.name===x&&(0,c.H7)(I)){I.type="esriFieldTypeOID";break}}}catch(j){F.e(j)}finally{F.f()}}return{fields:u,geometryType:h,hasZ:l,objectIdFieldName:x,objectIdFieldType:t,unknownFields:Array.from(s)}}function D(e,t){return Array.from(h(m(e),t))}},94288:function(e,t,n){"use strict";n.d(t,{Dm:function(){return l},Hq:function(){return p},MS:function(){return f},bU:function(){return c}});var r=n(23796),a=n(4367),i=(n(92222),n(26699),n(32023),n(38862),n(35425)),u=n(40199),o=n(24305),s=n(12190);function c(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.I4:"esriGeometryPolyline"===e?s.ET:s.lF}}}function l(e,t){if((0,i.Z)("esri-csp-restrictions"))return function(){return(0,a.Z)((0,r.Z)({},t,null),e)};try{var n="this.".concat(t," = null;");for(var u in e)n+="this".concat(u.includes(".")?'["'.concat(u,'"]'):".".concat(u)," = ").concat(JSON.stringify(e[u]),";");var o=new Function(n);return function(){return new o}}catch(s){return function(){return(0,a.Z)((0,r.Z)({},t,null),e)}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,u.d9)(e)}}]}function f(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:o.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},76996:function(e,t,n){"use strict";n.d(t,{$9:function(){return x},G4:function(){return S},Lu:function(){return k},WW:function(){return W},d:function(){return O},eS:function(){return G},gp:function(){return R},j:function(){return I},w9:function(){return Z},yN:function(){return C}});var r=n(62032),a=n(4367),i=n(21136),u=n(16198),o=(n(78975),n(74916),n(9494),n(9653),n(44048),n(92222),n(69826),n(41539),n(68309),n(33161),n(83753),n(75065),n(35680)),s=n(25585),c=n(87441),l=n(27092),p=n(71563),f=n(8470),d=n(32503),y=n(78165),m=n(66826),g=n(94288),h=n(83683),v=n(36549),b=n(7730),w=c.Z.getLogger("esri.layers.graphics.sources.ogcfeature"),k="http://www.opengis.net/def/crs/",x="".concat(k,"OGC/1.3/CRS84");function Z(e,t){return F.apply(this,arguments)}function F(){return F=(0,u.Z)(regeneratorRuntime.mark((function e(t,n){var i,u,c,p,f,d,y,b,k,x,Z,F,I,j,S,T,R,P,G,M,O,C=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=C.length>2&&void 0!==C[2]?C[2]:{},u=C.length>3&&void 0!==C[3]?C[3]:5,c=t.links,p=B(c,"items","application/geo+json")||B(c,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json"),!(0,l.Wi)(p)){e.next=5;break}throw new s.Z("ogc-feature-layer:missing-items-page","Missing items url");case 5:return e.next=7,(0,o["default"])(p.href,{signal:i.signal,query:(0,a.Z)((0,a.Z)({limit:u},i.customParameters),{},{token:i.apiKey}),headers:{accept:"application/geo+json"}});case 7:return f=e.sent,d=f.data,e.next=11,(0,m.O3)(d);case 11:if(y=(0,m.my)(d,{geometryType:n.geometryType}),b=n.fields||y.fields||[],k=null!=n.hasZ?n.hasZ:y.hasZ,x=y.geometryType,Z=n.objectIdField||y.objectIdFieldName||"OBJECTID",F=n.timeInfo,I=b.find((function(e){return e.name===Z})),I){e.next=20;break}if(y.objectIdFieldType){e.next=17;break}throw new s.Z("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");case 17:b.unshift({name:Z,alias:Z,type:"esriFieldTypeOID",editable:!1,nullable:!1}),e.next=21;break;case 20:I.type="esriFieldTypeOID",I.editable=!1,I.nullable=!1;case 21:Z!==y.objectIdFieldName&&(j=b.find((function(e){return e.name===y.objectIdFieldName})),j&&(j.type="esriFieldTypeInteger")),b===y.fields&&y.unknownFields.length>0&&w.warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:y.unknownFields}}),S=(0,r.Z)(b),e.prev=24,S.s();case 26:if((T=S.n()).done){e.next=34;break}if(R=T.value,null==R.name&&(R.name=R.alias),null==R.alias&&(R.alias=R.name),"esriFieldTypeOID"!==R.type&&"esriFieldTypeGlobalID"!==R.type&&(R.editable=null==R.editable||!!R.editable,R.nullable=null==R.nullable||!!R.nullable),R.name){e.next=30;break}throw new s.Z("ogc-feature-layer:invalid-field-name","field name is missing",{field:R});case 30:if(-1!==v.v.jsonValues.indexOf(R.type)){e.next=32;break}throw new s.Z("ogc-feature-layer:invalid-field-type",'invalid type for field "'.concat(R.name,'"'),{field:R});case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e["catch"](24),S.e(e.t0);case 39:return e.prev=39,S.f(),e.finish(39);case 42:return F&&(P=new h.Z(b),F.startTimeField&&(G=P.get(F.startTimeField),G?(F.startTimeField=G.name,G.type="esriFieldTypeDate"):F.startTimeField=null),F.endTimeField&&(M=P.get(F.endTimeField),M?(F.endTimeField=M.name,M.type="esriFieldTypeDate"):F.endTimeField=null),F.trackIdField&&(O=P.get(F.trackIdField),O?F.trackIdField=O.name:(F.trackIdField=null,w.warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:F}}))),F.startTimeField||F.endTimeField||(w.warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:F}}),F=null)),e.abrupt("return",{drawingInfo:x?(0,g.bU)(x):null,geometryType:x,fields:b,hasZ:!!k,objectIdField:Z,timeInfo:F});case 44:case"end":return e.stop()}}),e,null,[[24,36,39,42]])}))),F.apply(this,arguments)}function I(e){return j.apply(this,arguments)}function j(){return j=(0,u.Z)(regeneratorRuntime.mark((function e(t){var n,r,i,u,c,p,f,d,y=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=y.length>1&&void 0!==y[1]?y[1]:{},r=t.links,i=B(r,"data","application/json")||B(r,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json"),!(0,l.Wi)(i)){e.next=4;break}throw new s.Z("ogc-feature-layer:missing-collections-page","Missing collections url");case 4:return u=n.apiKey,c=n.customParameters,p=n.signal,e.next=9,(0,o["default"])(i.href,{signal:p,headers:{accept:"application/json"},query:(0,a.Z)((0,a.Z)({},c),{},{token:u})});case 9:return f=e.sent,d=f.data,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function S(e){return T.apply(this,arguments)}function T(){return T=(0,u.Z)(regeneratorRuntime.mark((function e(t){var n,r,i,u,c,p,f,d,y=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=y.length>1&&void 0!==y[1]?y[1]:{},r=t.links,i=B(r,"conformance","application/json")||B(r,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json"),!(0,l.Wi)(i)){e.next=4;break}throw new s.Z("ogc-feature-layer:missing-conformance-page","Missing conformance url");case 4:return u=n.apiKey,c=n.customParameters,p=n.signal,e.next=9,(0,o["default"])(i.href,{signal:p,headers:{accept:"application/json"},query:(0,a.Z)((0,a.Z)({},c),{},{token:u})});case 9:return f=e.sent,d=f.data,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return P=(0,u.Z)(regeneratorRuntime.mark((function e(t){var n,r,i,u,s,c,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},r=n.apiKey,i=n.customParameters,u=n.signal,e.next=6,(0,o["default"])(t,{signal:u,headers:{accept:"application/json"},query:(0,a.Z)((0,a.Z)({},i),{},{token:r})});case 6:return s=e.sent,c=s.data,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function G(e){return M.apply(this,arguments)}function M(){return M=(0,u.Z)(regeneratorRuntime.mark((function e(t){var n,r,i,u,s,c,p,f,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},r="application/vnd.oai.openapi+json;version=3.0",i=B(t.links,"service-desc",r),!(0,l.Wi)(i)){e.next=4;break}return e.abrupt("return",(w.warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null));case 4:return u=n.apiKey,s=n.customParameters,c=n.signal,e.next=9,(0,o["default"])(i.href,{signal:c,headers:{accept:r},query:(0,a.Z)((0,a.Z)({},s),{},{token:u})});case 9:return p=e.sent,f=p.data,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function O(e){var t=(0,i.Z)(/^http:\/\/www\.opengis.net\/def\/crs\/(.*)\/(.*)\/(.*)$/i,{authority:1,version:2,code:3}).exec(e),n=null==t?void 0:t.groups;if(!n)return null;var r=n.authority,a=n.code;switch(r.toLowerCase()){case"ogc":switch(a.toLowerCase()){case"crs27":return b.Z.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return b.Z.WGS84.wkid;default:return null}case"esri":case"epsg":var u=Number.parseInt(a,10);return Number.isNaN(u)?null:u;default:return null}}function C(e,t,n){return N.apply(this,arguments)}function N(){return N=(0,u.Z)(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W(t,n,r);case 2:return a=e.sent,e.abrupt("return",(0,d.cn)(a));case 4:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function W(e,t,n){return q.apply(this,arguments)}function q(){return q=(0,u.Z)(regeneratorRuntime.mark((function e(t,n,i){var u,c,g,h,v,w,k,x,Z,F,I,j,S,T,R,P,G,M,O,C,N,W,q,D,L,K,_,V,$,H,Q,Y,z,X,ee,te,ne,re,ae,ie,ue,oe;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=t.capabilities.query.maxRecordCount,c=t.collection,g=t.layerDefinition,h=t.queryParameters,v=h.apiKey,w=h.customParameters,k=t.spatialReference,x=t.supportedCrs,Z=c.links,F=B(Z,"items","application/geo+json")||B(Z,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json"),!(0,l.Wi)(F)){e.next=3;break}throw new s.Z("ogc-feature-layer:missing-items-page","Missing items url");case 3:if(I=n.geometry,j=n.num,S=n.start,T=n.timeExtent,R=n.where,!n.objectIds){e.next=6;break}throw new s.Z("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");case 6:return P=b.Z.fromJSON(k),G=(0,l.Pt)(n.outSpatialReference,P),M=G.isWGS84?null:A(G,x),O=J(I,x),C=E(T),N=U(R),W=null!=j?j:null!=S&&void 0!==S?10:u,e.next=15,(0,o["default"])(F.href,(0,a.Z)((0,a.Z)({},i),{},{query:(0,a.Z)((0,a.Z)((0,a.Z)({},w),O),{},{crs:M,datetime:C,query:N,limit:W,startindex:S,token:v}),headers:{accept:"application/geo+json"}}));case 15:if(q=e.sent,D=q.data,L=!1,D.links&&(K=D.links.find((function(e){return"next"===e.rel})),L=!!K),!L&&Number.isInteger(D.numberMatched)&&Number.isInteger(D.numberReturned)&&(L=D.numberReturned<D.numberMatched),_=g.fields,V=g.globalIdField,$=g.hasM,H=g.hasZ,Q=g.objectIdField,Y=g.geometryType,z=(0,m.lG)(D,{geometryType:Y,hasZ:H,objectIdField:Q}),!M&&G.isWebMercator){X=(0,r.Z)(z);try{for(X.s();!(ee=X.n()).done;)te=ee.value,(0,l.pC)(te.geometry)&&(ne=(0,d.di)(te.geometry,Y,H,!1),ne.spatialReference=b.Z.WGS84,te.geometry=(0,d.GH)((0,f.iV)(ne,G)))}catch(se){X.e(se)}finally{X.f()}}re=(0,r.Z)(z);try{for(re.s();!(ae=re.n()).done;)ie=ae.value,ie.objectId=ie.attributes[Q]}catch(se){re.e(se)}finally{re.f()}return ue=M||!M&&G.isWebMercator?G.toJSON():p.Zn,oe=new y.Z,e.abrupt("return",(oe.exceededTransferLimit=L,oe.features=z,oe.fields=_,oe.geometryType=Y,oe.globalIdFieldName=V,oe.hasM=$,oe.hasZ=H,oe.objectIdFieldName=Q,oe.spatialReference=ue,oe));case 26:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function D(e){return(0,l.pC)(e)&&"extent"===e.type}function A(e,t){var n,r,a,i=e.isWebMercator,u=e.wkid;if(!u)return null;var o=i?null!=(n=null!=(r=null!=(a=t[3857])?a:t[102100])?r:t[102113])?n:t[900913]:t[e.wkid];return o?"".concat(k).concat(o):null}function L(e){if((0,l.Wi)(e))return"";var t=e.xmin,n=e.ymin,r=e.xmax,a=e.ymax;return"".concat(t,",").concat(n,",").concat(r,",").concat(a)}function E(e){if((0,l.Wi)(e))return null;var t=e.start,n=e.end;return"".concat((0,l.pC)(t)?t.toISOString():"..","/").concat((0,l.pC)(n)?n.toISOString():"..")}function U(e){return(0,l.Wi)(e)||!e||"1=1"===e?null:e}function J(e,t){if(!D(e))return null;var n=e.spatialReference;if(!n||n.isWGS84)return{bbox:L(e)};var r=A(n,t);return(0,l.pC)(r)?{bbox:L(e),"bbox-crs":r}:n.isWebMercator?{bbox:L((0,f.iV)(e,b.Z.WGS84))}:null}function B(e,t,n){return e.find((function(e){return e.rel===t&&e.type===n}))||e.find((function(e){return e.rel===t&&!e.type}))}},21136:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});n(24603),n(28450),n(74916),n(88386),n(39714),n(41539),n(78783),n(4129),n(33948),n(47941),n(83510),n(15306),n(82526),n(41817),n(47042);var r=n(9726),a=n(53351),i=n(99418);function u(){u=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var u=new RegExp(e,r);return t.set(u,i||t.get(e)),(0,a.Z)(u,n.prototype)}function o(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,i.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=o(n,this)),n},n.prototype[Symbol.replace]=function(n,a){if("string"==typeof a){var i=t.get(this);return e[Symbol.replace].call(this,n,a.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"==typeof a){var u=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,r.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(o(e,u)),a.apply(this,e)}))}return e[Symbol.replace].call(this,n,a)},u.apply(this,arguments)}}}]);