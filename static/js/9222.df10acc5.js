"use strict";(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[9222],{33480:function(e,t,n){n.d(t,{Hq:function(){return Z},Mk:function(){return h},P_:function(){return F},Qp:function(){return P},VO:function(){return _},_D:function(){return g},kZ:function(){return W},kr:function(){return L},nF:function(){return S},tB:function(){return v},ut:function(){return b},vF:function(){return j},zD:function(){return y}});n(48675),n(3462),n(75065);var i=n(25585),r=n(27092),s=n(19509),a=n(98267),o=n(7230),l=n(54787);const c=5e-4;function h(e,t,n){return!(0,a.Up)(e,t,n)}function u(e,t,n){const r=h(e,t,n);if(r&&!(0,a.kR)())throw new i.Z("rasterprojectionhelper-project","projection engine is not loaded");return r}const d=function(e,t,n){const i=(e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4,r=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4,s=(e[4*t.cols]-e[0]+e[4*t.cols+4]-e[4])/n[0]*.5,a=(e[4*t.cols+1]-e[1]+e[4*t.cols+5]-e[5])/n[1]*.5;return[0===s||isNaN(s)?0:Math.abs(i-e[2*t.rows+2])/Math.abs(s),0===a||isNaN(a)?0:Math.abs(r-e[2*t.rows+3])/Math.abs(a)]},p={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},f=32,x=4,m=x;async function y(){if((0,a.kR)())return null;await(0,a.zD)()}function g(e,t,n){return u(e.spatialReference,t)?n?(0,a.rS)(t,e.spatialReference,e):(0,a.rS)(e.spatialReference,t,e):null}function _(e,t,n,i=null){if(e.spatialReference.equals(t))return e;u(e.spatialReference,t,i);const s=n.center,l=new o.Z({xmin:s.x-e.x/2,xmax:s.x+e.x/2,ymin:s.y-e.y/2,ymax:s.y+e.y/2,spatialReference:e.spatialReference}),c=(0,a.iV)(l,t,i);return(0,r.Wi)(c)?null:{x:c.xmax-c.xmin,y:c.ymax-c.ymin}}function w(e,t=.01){return(0,s.c9)(e)?t/(0,s.c9)(e):0}function S(e,t,n=null,i=!0){const r=e.spatialReference;if(r.equals(t))return e;u(r,t,n);const s=(0,a.iV)(e,t,n);if(i&&t.isGeographic){const[t,n]=D(r,!0),i=w(r);i&&null!=t&&null!=n&&(Math.abs(e.x-t)<i&&Math.abs(180-s.x)<c?s.x-=360:Math.abs(e.x-n)<i&&Math.abs(180+s.x)<c&&(s.x+=360))}return s}function R(e,t,n=null){const i=e[0].spatialReference;return i.equals(t)?e:(u(i,t,n),(0,a.iV)(e,t,n))}function M(e){const t=b(e[0].spatialReference);if(e.length<2||!(0,r.pC)(t))return e[0];let{xmin:n,xmax:i,ymin:s,ymax:a}=e[0];for(let r=1;r<e.length;r++){const n=e[r];i=n.xmax+t*r,s=Math.min(s,n.ymin),a=Math.max(a,n.ymax)}return new o.Z({xmin:n,xmax:i,ymin:s,ymax:a,spatialReference:e[0].spatialReference})}function v(e,t,n=null,i=!0){if(e.spatialReference.equals(t))return e;const s=Z(e),a=b(e.spatialReference,!0);return(0,r.pC)(a)&&0!==s?M(e.clone().normalize().map((e=>C(e,t,n,i)))):C(e,t,n,i)}function C(e,t,n=null,i=!0){const r=e.spatialReference;if(r.equals(t))return e;u(r,t,n);const s=(0,a.iV)(e,t,n);let[o,h]=D(r,!0);if(s&&i&&r.isWebMercator&&t.isGeographic&&null!=o&&null!=h){const i=.001,a=1e3;if(Math.abs(e.xmin-o)<i&&Math.abs(h-e.xmax)>a&&Math.abs(180-s.xmax)<c){s.xmin=-180;const i=[];i.push(new l.Z(e.xmax,e.ymin,r)),i.push(new l.Z(e.xmax,(e.ymin+e.ymax)/2,r)),i.push(new l.Z(e.xmax,e.ymax,r));const a=i.map((e=>S(e,t,n))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));s.xmax=Math.max.apply(null,a)}if(Math.abs(e.xmax-h)<i&&Math.abs(o-e.xmin)>a&&Math.abs(180+s.xmin)<c){s.xmax=180;const i=[];i.push(new l.Z(e.xmin,e.ymin,r)),i.push(new l.Z(e.xmin,(e.ymin+e.ymax)/2,r)),i.push(new l.Z(e.xmin,e.ymax,r));const a=i.map((e=>S(e,t,n))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));s.xmin=Math.min.apply(null,a)}}[o,h]=D(t,!0);const d=w(t);return d&&null!=o&&null!=h&&s&&(Math.abs(s.xmin-o)<d&&(s.xmin=o),Math.abs(s.xmax-h)<d&&(s.xmax=h)),s}function b(e,t=!1){const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*p[e.wkid]||null}function D(e,t=!1){const n=[],i=b(e,t);return(0,r.pC)(i)&&(n.push(-i/2),n.push(i/2)),n}function z(e,t,n,i){let r=(e-t)/n;return r-Math.floor(r)!=0?r=Math.floor(r):i&&(r-=1),r}function Z(e,t=!1){const n=b(e.spatialReference);if(!(0,r.pC)(n))return 0;const i=t?0:-n/2;return z(e.xmax,i,n,!0)-z(e.xmin,i,n,!1)}function F(e){const t=e.storageInfo.origin.x,n=b(e.spatialReference,!0);if(!(0,r.pC)(n))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const i=n/2,{nativePixelSize:s,storageInfo:a,extent:o}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:h}=a;let u=s.x;const d=[],p=(0,r.pC)(e.transform)&&"gcs-shift"===e.transform.type,f=t+(p?0:i),x=p?n-t:i-t;for(let r=0;r<=l;r++){const e=(o.xmax-t)/u/c,n=e-Math.floor(e)==0?e:Math.ceil(e),i=x/u/c,r=i-Math.floor(i)==0?i:Math.ceil(i),s=Math.floor(f/u/c),a=Math.round(f/u)%c,l=(c-Math.round(x/u)%c)%c;d.push({resolutionX:u,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:r,leftMargin:a,rightPadding:l,originColumnOffset:s}),u*=h}return{originX:t,halfWorldWidth:i,pyramidsInfo:d,hasGCSSShiftTransform:p}}function P(e){const t=e.isAdaptive&&null==e.spacing,n=e.spacing||[f,f];let i=T(e),r={cols:i.size[0]+1,rows:i.size[1]+1},s=d(i.offsets,r,n);const a=(s[0]+s[1])/2,o=i.outofBoundPointCount>0&&i.outofBoundPointCount<i.offsets.length/2;return t&&(o||a>m)&&(i=T({...e,spacing:[x,x]}),r={cols:i.size[0]+1,rows:i.size[1]+1},s=d(i.offsets,r,n)),i.error=s,i.coefficients=I(i.offsets,r,o),i}function T(e){const{projectedExtent:t,srcBufferExtent:n,pixelSize:i,datumTransformation:s,rasterTransform:a}=e,o=t.spatialReference,c=n.spatialReference;u(o,c);const{xmin:h,ymin:d,xmax:p,ymax:x}=t,m=b(c),y=e.hasWrapAround||"gcs-shift"===(null==a?void 0:a.type),g=e.spacing||[f,f],_={x:g[0]*i.x,y:g[1]*i.y},w={cols:Math.ceil((p-h)/_.x-.1/g[0])+1,rows:Math.ceil((x-d)/_.y-.1/g[1])+1},S=_.x,M=_.y,v=[];let C,D=0;const z=[];for(let r=0;r<w.cols;r++)for(let e=0;e<w.rows;e++)z.push(new l.Z({x:h+S*r,y:x-M*e,spatialReference:o}));const Z=R(z,c,s);for(let l=0;l<w.cols;l++){const e=[];for(let t=0;t<w.rows;t++){let i=Z[l*w.rows+t];a&&(i=a.inverseTransform(i)),e.push(i),l>0&&y&&i&&C[t]&&(0,r.pC)(m)&&i.x<C[t].x&&(i.x+=m),i?(v.push((i.x-n.xmin)/(n.xmax-n.xmin)),v.push((n.ymax-i.y)/(n.ymax-n.ymin))):(v.push(NaN),v.push(NaN),D++)}C=e}return{offsets:v,error:null,coefficients:null,outofBoundPointCount:D,spacing:g,size:[w.cols-1,w.rows-1]}}function I(e,t,n){const{cols:i,rows:r}=t,s=new Float32Array((i-1)*(r-1)*2*6),a=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),o=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let l=0;l<i-1;l++){for(let t=0;t<r-1;t++){let n=l*r*2+2*t;const c=e[n],h=e[n+1],u=e[n+2],d=e[n+3];n+=2*r;const p=e[n],f=e[n+1],x=e[n+2],m=e[n+3];let y=0,g=12*(t*(i-1)+l);for(let e=0;e<3;e++)s[g++]=a[y++]*c+a[y++]*u+a[y++]*x;y=0;for(let e=0;e<3;e++)s[g++]=a[y++]*h+a[y++]*d+a[y++]*m;y=0;for(let e=0;e<3;e++)s[g++]=o[y++]*c+o[y++]*p+o[y++]*x;y=0;for(let e=0;e<3;e++)s[g++]=o[y++]*h+o[y++]*f+o[y++]*m}if(n)for(let e=0;e<s.length;e++)isNaN(s[e])&&(s[e]=-1)}return s}function W(e){const t=e.clone().normalize();return 1===t.length?t[0]:M(t)}function L(e,t,n){const{storageInfo:i,pixelSize:s}=t;let a,o=!1;const{pyramidResolutions:c}=i;if((0,r.pC)(c)&&c.length){const i=(e.x+e.y)/2,r=c[c.length-1],h=(r.x+r.y)/2,u=(s.x+s.y)/2;if(i<=u)a=0;else if(i>=h)a=c.length,o=i/h>8;else{let e,t=u;for(let r=1;r<=c.length;r++){if(e=(c[r-1].x+c[r-1].y)/2,i<=e){i===e?a=r:"down"===n?(a=r-1,o=i/t>8):a="up"===n||i-t>e-i||i/t>2?r:r-1;break}t=e}}const d=0===a?s:c[a-1];return{pyramidLevel:a,pyramidResolution:new l.Z({x:d.x,y:d.y,spatialReference:t.spatialReference}),excessiveReading:o}}const h=Math.log(e.x/s.x)/Math.LN2,u=Math.log(e.y/s.y)/Math.LN2,d=t.storageInfo.maximumPyramidLevel||0;a="down"===n?Math.floor(Math.min(h,u)):"up"===n?Math.ceil(Math.max(h,u)):Math.round((h+u)/2),a<0?a=0:a>d&&(o=a>d+3,a=d);const p=2**a;return{pyramidLevel:a,pyramidResolution:new l.Z({x:p*t.nativePixelSize.x,y:p*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:o}}function j(e,t,n=512,i=!0){const{extent:r,spatialReference:a,pixelSize:o}=e,c=_(new l.Z({x:o.x,y:o.y,spatialReference:a}),t,r);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const h=(c.x+c.y)/2,u=(0,s.c9)(t),d=h*u*96*39.37,p=t.isGeographic?256/n*295828763.7958547:256/n*591657527.591555;let f="vector-magdir"===e.dataType||"vector-uv"===e.dataType;const x=v(r,t);f||i&&(t.isGeographic||t.isWebMercator)&&(f=x.xmin*x.xmax<0);let m,y=d;const g=1.001;if(f){y=p;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*u*39.37),i=t.isGeographic?4326:3857;m=_(new l.Z({x:e,y:e,spatialReference:{wkid:i}}),a,x),m.x*=y/n,m.y*=y/n}else{m={x:o.x,y:o.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let n=0;for(;y<p*(g/2)&&n<t;)n++,y*=2,m.x*=2,m.y*=2;Math.max(y,p)/Math.min(y,p)<=g&&(y=p)}const w=[y],S=[{x:m.x,y:m.y}],R=70.5310735,M=Math.min(R,d)/g;for(;y>=M;)y/=2,m.x/=2,m.y/=2,w.push(y),S.push({x:m.x,y:m.y});return{projectedPixelSize:c,scales:w,srcResolutions:S,isCustomTilingScheme:!f}}},31840:function(e,t,n){n.d(t,{Z:function(){return j}});var i=n(63825),r=n(44171),s=n(2553),a=(n(57787),n(35425),n(90202),n(92236)),o=n(94292),l=n(49204),c=n(49026),h=n(47303);class u extends h.Z{constructor(){super(...arguments),this.flowStyle=null}get requiresDedicatedFBO(){return!1}doRender(e){super.doRender(e)}prepareRenderPasses(e){const t=e.registerRenderPass({name:"flow",brushes:[l.Z],target:()=>this.children,drawPhase:c.jx.MAP});return[...super.prepareRenderPasses(e),t]}}n(75065);var d=n(87441),p=n(14937),f=n(27092),x=n(24446),m=n(54787);const y=d.Z.getLogger("esri.views.2d.engine.flow.FlowDisplayData");class g{constructor(e,t,n,i){this.state={name:"created"},this.flowStyle=e,this.extent=t,this.size=n,this.pixelRatio=i}async load(){const e=new AbortController;this.state={name:"loading",abortController:e};const t=await this.flowStyle.loadResources({extent:this.extent,size:this.size,pixelRatio:this.pixelRatio},e.signal);this.state={name:"loaded",resources:t}}prepareForRendering(e,t,n){if("loaded"!==this.state.name)return void y.error("Only loaded resources can be attached.");const i=this.state.resources;i.prepareForRendering(e,t,n),this.state={name:"attached",resources:i}}destroy(){if("loading"===this.state.name)return this.state.abortController.abort(),void(this.state={name:"detached"});"attached"===this.state.name&&(this.state.resources.detach(),this.state={name:"detached"})}update(e){return!!this.flowStyle.areResourcesCompatible(e.flowStyle)&&(!(!this.extent.equals(e.extent)||this.size[0]!==e.size[0]||this.size[1]!==e.size[1]||this.pixelRatio!==e.pixelRatio)&&(this.flowStyle=e.flowStyle,!0))}}var _=n(68491),w=n(33482),S=n(80188);class R extends S.s{constructor(){super(...arguments),this._displayData=null}get displayData(){return this._displayData}set displayData(e){this._displayData=e,this.requestRender()}clear(){(0,f.pC)(this._displayData)&&(this._displayData.destroy(),this._displayData=null,this.requestRender())}setTransform(e){const{displayData:t}=this;if((0,f.Wi)(t))return;const n=t.extent.xmin,i=t.extent.ymax,r=[0,0];e.toScreen(r,[n,i]);const s=(t.extent.xmax-t.extent.xmin)/t.size[0]/e.resolution,a=(0,p.Vl)(e.rotation),{dvs:o}=this.transforms;(0,_.b)(o),(0,_.c)(o,o,[-1,1,0]),(0,_.d)(o,o,[2/(e.size[0]*e.pixelRatio),-2/(e.size[1]*e.pixelRatio),1]),(0,_.c)(o,o,[r[0],r[1],0]),(0,_.r)(o,o,a),(0,_.d)(o,o,[s*e.pixelRatio,s*e.pixelRatio,1])}_createTransforms(){return{dvs:(0,w.c)()}}}var M=n(7230);const v=1.15,C=d.Z.getLogger("esri.views.2d.engine.flow.FlowStrategy");let b=class extends r.Z{constructor(e){super(e),this._flowDisplayObject=new R,this._loading=null}initialize(){this.flowContainer.addChild(this._flowDisplayObject)}destroy(){this._clear(),this.flowContainer.removeAllChildren()}get updating(){return null!=this._loading}update(e){const{flowStyle:t}=this.flowContainer;if((0,f.Wi)(t))return void this._clear();const{extent:n,rotation:i,resolution:r,pixelRatio:s}=e.state,a=z(n,i);a.expand(v);const o=[Math.round((a.xmax-a.xmin)/r),Math.round((a.ymax-a.ymin)/r)],l=new g(t,a,o,s);if((0,f.pC)(this._loading)){if(this._loading.update(l))return;this._loading.destroy(),this._loading=null}!(0,f.Wi)(this._flowDisplayObject.displayData)&&this._flowDisplayObject.displayData.update(l)||(l.load().then((()=>{this._flowDisplayObject.clear(),this._flowDisplayObject.displayData=this._loading,this._loading=null}),(e=>{(0,x.D_)(e)||(C.error("A resource failed to load.",e),this._loading=null)})),this._loading=l)}_clear(){this._flowDisplayObject.clear(),(0,f.pC)(this._loading)&&(this._loading.destroy(),this._loading=null)}};(0,i._)([(0,s.Cb)()],b.prototype,"_loading",void 0),(0,i._)([(0,s.Cb)()],b.prototype,"flowContainer",void 0),(0,i._)([(0,s.Cb)()],b.prototype,"updating",null),b=(0,i._)([(0,a.j)("esri.views.2d.engine.flow.FlowStrategy")],b);const D=b;function z(e,t){const n=new m.Z({x:(e.xmax+e.xmin)/2,y:(e.ymax+e.ymin)/2,spatialReference:e.spatialReference}),i=e.xmax-e.xmin,r=e.ymax-e.ymin,s=Math.abs(Math.cos((0,p.Vl)(t))),a=Math.abs(Math.sin((0,p.Vl)(t))),o=s*i+a*r,l=a*i+s*r,c=new M.Z({xmin:n.x-o/2,ymin:n.y-l/2,xmax:n.x+o/2,ymax:n.y+l/2,spatialReference:e.spatialReference});return c.centerAt(n),c}var Z=n(597);function F(e){const t=(0,Z.F2)(e.lineWidth),n=2*t,i=Math.round((0,Z.F2)(e.lineLength)/n)+1,r=t,s=10,a=e.lineColor.toRgba(),o=[a[0]/255,a[1]/255,a[2]/255,a[3]],{lineSpeed:l,fadeDuration:c,density:h}=e;return{lineRenderWidth:t,segmentLength:n,verticesPerLine:i,lineCollisionWidth:r,lineSpacing:s,lineColor:o,lineSpeed:l,fadeDuration:c,density:h,smoothing:(0,Z.F2)(e.smoothing),velocityScale:1,minWeightThreshold:.001,minSpeedThreshold:.001,maxTurnAngle:1,mergeLines:!0,interpolate:!0,profile:!1}}var P=n(12794),T=(n(17115),n(56770),n(28383),n(15401),n(29168),n(82595));class I{constructor(e,t){this._vertexData=e,this._indexData=t}prepareForRendering(e,t,n){const i=P.Z.createVertex(e,35044,this._vertexData),r=P.Z.createIndex(e,35044,this._indexData),s=new T.Z(e,t,n,{geometry:i},r);this.vertexBuffer=i,this.indexBuffer=r,this.vertexArray=s,this._vertexData=null,this._indexData=null}detach(){this.vertexArray.dispose(),this.vertexBuffer.dispose(),this.indexBuffer.dispose()}}class W{constructor(e,t,n){this._loadImagery=e,this._createStreamlinesMesh=t,this._rendererSettings=F(n)}get animated(){return this._rendererSettings.lineSpeed>0}get renderSettings(){return this._rendererSettings}areResourcesCompatible(e){let t=!0;return t=t&&e._loadImagery===this._loadImagery,t=t&&e._createStreamlinesMesh===this._createStreamlinesMesh,t=t&&e._rendererSettings.verticesPerLine===this._rendererSettings.verticesPerLine,t=t&&e._rendererSettings.segmentLength===this._rendererSettings.segmentLength,t=t&&e._rendererSettings.lineSpacing===this._rendererSettings.lineSpacing,t=t&&e._rendererSettings.density===this._rendererSettings.density,t=t&&e._rendererSettings.smoothing===this._rendererSettings.smoothing,t=t&&e._rendererSettings.velocityScale===this._rendererSettings.velocityScale,t=t&&e._rendererSettings.minWeightThreshold===this._rendererSettings.minWeightThreshold,t=t&&e._rendererSettings.minSpeedThreshold===this._rendererSettings.minSpeedThreshold,t=t&&e._rendererSettings.mergeLines===this._rendererSettings.mergeLines,t=t&&e._rendererSettings.interpolate===this._rendererSettings.interpolate,t&&this._rendererSettings.mergeLines&&(t=e._rendererSettings.lineCollisionWidth===this._rendererSettings.lineCollisionWidth),!!t}async loadResources(e,t){const{extent:n,size:i}=e;(0,x.k_)(t);const r=await this._loadImagery(n,i[0],i[1],t),{vertexData:s,indexData:a}=await this._createStreamlinesMesh(this._rendererSettings,r,t);return new I(s,a)}}let L=class extends r.Z{constructor(){super(...arguments),this._loadImagery=(e,t,n,i)=>(0,o.KK)(this.layer,e,t,n,i),this._createStreamlinesMesh=(e,t,n)=>this.layer.createStreamlinesMesh({flowData:t,rendererSettings:e},{signal:n}),this.container=null,this.layer=null,this.type="rasterAnimatedFlow",this.redrawOrRefetch=async()=>{this._rendererChanged()}}get updating(){return!this._strategy||this._strategy.updating}update(e){e.stationary?this._strategy.update(e):this.layerView.requestUpdate()}install(e){this.container=new u,e.addChild(this.container),this._strategy=new D({flowContainer:this.container}),this._rendererChanged()}uninstall(){this._strategy.destroy(),this.container.removeAllChildren(),this.container.remove()}moveEnd(){}async doRefresh(){}attach(){}_rendererChanged(){if("animated-flow"!==this.layer.renderer.type)return;const e=new W(this._loadImagery,this._createStreamlinesMesh,this.layer.renderer);this.container.flowStyle=e,this.layerView.requestUpdate()}};(0,i._)([(0,s.Cb)()],L.prototype,"_strategy",void 0),(0,i._)([(0,s.Cb)()],L.prototype,"container",void 0),(0,i._)([(0,s.Cb)()],L.prototype,"layer",void 0),(0,i._)([(0,s.Cb)()],L.prototype,"layerView",void 0),(0,i._)([(0,s.Cb)()],L.prototype,"type",void 0),(0,i._)([(0,s.Cb)()],L.prototype,"updating",null),L=(0,i._)([(0,a.j)("esri.views.2d.engine.flow.AnimatedFlowView2D")],L);const j=L},66541:function(e,t,n){n.d(t,{V:function(){return a},e:function(){return s}});var i=n(27092),r=n(63390);async function s(e,t=e.popupTemplate){if(!(0,i.pC)(t))return[];const n=await t.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:s}=t,{objectIdField:a,typeIdField:o,globalIdField:l,relationships:c}=e;if(n.includes("*"))return["*"];const h=s?await(0,r.CH)(e):[],u=(0,r.Q0)(e.fieldsIndex,[...n,...h]);return o&&u.push(o),u&&a&&e.fieldsIndex.has(a)&&-1===u.indexOf(a)&&u.push(a),u&&l&&e.fieldsIndex.has(l)&&-1===u.indexOf(l)&&u.push(l),c&&c.forEach((t=>{const{keyField:n}=t;u&&n&&e.fieldsIndex.has(n)&&-1===u.indexOf(n)&&u.push(n)})),u}function a(e,t){return e.popupTemplate?e.popupTemplate:(0,i.pC)(t)&&t.defaultPopupTemplateEnabled&&(0,i.pC)(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}}}]);