"use strict";(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[5512],{34718:function(e,r,t){t.d(r,{BH:function(){return w},K:function(){return D},KC:function(){return g},NL:function(){return f},QI:function(){return m},Tg:function(){return d},Yx:function(){return c},nb:function(){return T},wF:function(){return V}});var n=t(2394),a=(t(51532),t(41539),t(78783),t(33948),t(57327),t(44197),t(48675),t(92990),t(18927),t(33105),t(35035),t(74345),t(7174),t(32846),t(44731),t(77209),t(96319),t(58867),t(37789),t(33739),t(29368),t(14483),t(12056),t(3462),t(30678),t(27462),t(33824),t(55021),t(12974),t(15016),t(29135),t(9653),t(82472),t(8723)),i=t(27092),o=t(40463),h=t(28547),u=new Map;u.set("meter-per-second",1),u.set("kilometer-per-hour",.277778),u.set("knots",.514444),u.set("feet-per-second",.3048),u.set("mile-per-hour",.44704);var l=180/Math.PI,s=5,f=new a.Xn({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function c(e,r){return u.get(e)/u.get(r)||1}function v(e){return(450-e)%360}function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",t=(0,n.Z)(e,2),a=t[0],i=t[1],o=Math.sqrt(a*a+i*i),h=Math.atan2(i,a)*l;return h=(360+h)%360,"geographic"===r&&(h=v(h)),[o,h]}function p(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",t=e[1];"geographic"===r&&(t=v(t)),t%=360;var n=e[0];return[n*Math.cos(t/l),n*Math.sin(t/l)]}function g(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"geographic",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!(0,h.nk)(e))return e;for(var i=e.pixels,u=e.width,l=e.height,s=u*l,f=i[0],c=i[1],v=o.Z.createEmptyBand(e.pixelType,s),g=o.Z.createEmptyBand(e.pixelType,s),m=0,w=0;w<l;w++)for(var x=0;x<u;x++){var M,y,k,Z;"vector-uv"===r?(M=d([f[m],c[m]],t),y=(0,n.Z)(M,2),v[m]=y[0],g[m]=y[1],v[m]*=a):(k=p([f[m],c[m]],t),Z=(0,n.Z)(k,2),v[m]=Z[0],g[m]=Z[1],v[m]*=a,g[m]*=a),m++}var b=new o.Z({pixelType:e.pixelType,width:e.width,height:e.height,mask:e.mask,validPixelCount:e.validPixelCount,maskIsAlpha:e.maskIsAlpha,pixels:[v,g]});return b.updateStatistics(),b}function m(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(1===t||!(0,h.nk)(e))return e;for(var n=e.clone(),a=n.pixels,i=n.width,o=n.height,u=a[0],l=a[1],s=0,f=0;f<o;f++)for(var c=0;c<i;c++)"vector-uv"===r?(u[s]*=t,l[s]*=t):u[s]*=t,s++;return n.updateStatistics(),n}function w(e,r,t,n,a){if(!(0,i.pC)(a)||!a.spatialReference.equals(e.spatialReference))return{extent:e,width:r,height:t,resolution:e.width/r};var o=a.xmin,h=a.ymax;n=Math.max(n||0,30);var u=Math.ceil(r*(1/n)),l=Math.ceil(t*(1/n)),s=((e.xmax-e.xmin)/u+(e.ymax-e.ymin)/l)/2;return e.xmin=o+Math.floor((e.xmin-o)/s)*s,e.xmax=o+Math.ceil((e.xmax-o)/s)*s,e.ymin=h+Math.floor((e.ymin-h)/s)*s,e.ymax=h+Math.ceil((e.ymax-h)/s)*s,{extent:e,width:Math.round(e.width/s),height:Math.round(e.height/s),resolution:s}}var x=M(0,0,0);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.PI,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];a&&(t=(2*Math.PI-t)%(2*Math.PI));var i=a?-1:1,o=13*i,h=-7*i,u=-2*i,l=-16*i,s=29,f=k(0,r+o,t,s),c=(0,n.Z)(f,2),v=c[0],d=c[1],p=k(e-5.5,r+h,t,s),g=(0,n.Z)(p,2),m=g[0],w=g[1],x=k(e+5.5,r+h,t,s),M=(0,n.Z)(x,2),y=M[0],Z=M[1],b=k(e-1.5,r+u,t,s),A=(0,n.Z)(b,2),P=A[0],I=A[1],F=k(e+1.5,r+u,t,s),_=(0,n.Z)(F,2),S=_[0],D=_[1],V=k(e-1.5,r+l,t,s),T=(0,n.Z)(V,2),R=T[0],L=T[1],U=k(e+1.5,r+l,t,s),C=(0,n.Z)(U,2),B=C[0],O=C[1];return[v,d,m,w,P,I,S,D,y,Z,R,L,B,O]}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&(r=(2*Math.PI-r)%(2*Math.PI));var a=10,i=t?-1:1,o=5*i,h=20*i,u=25*i,l=45,f=0,c=0,v=2,d=0,p=v*i,g=f+a/2,m=c-h,w=g+v,x=m,M=w-d,y=x+p,Z=f-a/2,b=c-u,A=Z+d,P=b-p,I=Math.ceil(e/s),F=Math.floor(I/10);I-=8*F;for(var _=[],S=[],D=0;D<I/2;D++,F--){F<=0&&I%2==1&&D===(I-1)/2&&(Z=f,A=Z+d,b=(b+m)/2,P=b-p);var V=k(Z,b,r,l),T=(0,n.Z)(V,2),R=T[0],L=T[1];if(F>0){var U=k(w,b,r,l),C=(0,n.Z)(U,2),B=C[0],O=C[1],q=k(g,m,r,l),K=(0,n.Z)(q,2),N=K[0],W=K[1];_.push(B),_.push(O),_.push(R),_.push(L),_.push(N),_.push(W)}else{var E=k(w,x,r,l),H=(0,n.Z)(E,2),J=H[0],X=H[1],z=k(M,y,r,l),Q=(0,n.Z)(z,2),Y=Q[0],j=Q[1],G=k(A,P,r,l),$=(0,n.Z)(G,2),ee=$[0],re=$[1];S.push(R),S.push(L),S.push(ee),S.push(re),S.push(Y),S.push(j),S.push(J),S.push(X)}b+=o,m+=o,x+=o,y+=o,P+=o}var te=k(f+a/2,c+h,r,l),ne=(0,n.Z)(te,2),ae=ne[0],ie=ne[1],oe=a/2+v,he=k(f+oe,c+h,r,l),ue=(0,n.Z)(he,2),le=ue[0],se=ue[1],fe=k(f+a/2,c-u,r,l),ce=(0,n.Z)(fe,2),ve=ce[0],de=ce[1],pe=k(f+oe,c-u,r,l),ge=(0,n.Z)(pe,2),me=ge[0],we=ge[1];return{pennants:_,barbs:S,shaft:[ae,ie,le,se,ve,de,me,we]}}function k(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Math.sqrt(e*e+r*r)/n,i=(2*Math.PI+Math.atan2(r,e))%(2*Math.PI);return[a,(2*Math.PI+i-t)%(2*Math.PI)]}var Z=[0,1,3,6,10,16,21,27,33,40,47,55,63],b=[0,.5,1,1.5,2],A=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function P(e,r,t,n){var a,i=c(n||"knots",t);for(a=1;a<r.length;a++)if(a===r.length-1){if(e<r[a]*i)break}else if(e<=r[a]*i)break;return Math.min(a-1,r.length-2)}function I(e,r,t,n,a){var i=0;switch(r){case"beaufort_kn":i=P(e,Z,"knots",t);break;case"beaufort_km":i=P(e,Z,"kilometer-per-hour",t);break;case"beaufort_ft":i=P(e,Z,"feet-per-second",t);break;case"beaufort_m":i=P(e,Z,"meter-per-second",t);break;case"classified_arrow":i=P(e,a,n,t);break;case"ocean_current_m":i=P(e,b,"meter-per-second",t);break;case"ocean_current_kn":i=P(e,A,"knots",t)}return i}function F(e,r){for(var t=r.style,n=r.inputUnit,a=r.outputUnit,i=r.breakValues,o=f.fromJSON(n),h=f.fromJSON(a),u=42,l=15,s=0,c=0,v=e.width,d=e.height,p=e.mask,g=e.pixels[0],m=e.pixels[1],w=p?p.filter((function(e){return e>0})).length:v*d,M=new Float32Array(w*u),y=new Uint32Array(l*w),k=0;k<d;k++)for(var Z=0;Z<v;Z++){var b=k*v+Z;if(!p||p[k*v+Z]){for(var A,P=null!=(A=(m[b]+360)%360/180*Math.PI)?A:2*Math.PI*Math.random(),F=I(g[b],t,o,h,i),_=0;_<x.length;_+=2)M[s++]=(Z+.5)/v,M[s++]=(k+.5)/d,M[s++]=x[_],M[s++]=x[_+1]+P,M[s++]=F,M[s++]=g[b];var S=7*(s/u-1);y[c++]=S,y[c++]=S+1,y[c++]=S+2,y[c++]=S+0,y[c++]=S+4,y[c++]=S+3,y[c++]=S+0,y[c++]=S+2,y[c++]=S+3,y[c++]=S+2,y[c++]=S+5,y[c++]=S+3,y[c++]=S+5,y[c++]=S+6,y[c++]=S+3}}return{vertexData:M,indexData:y}}var _=[];function S(e,r){if(0===_.length)for(var t=0;t<30;t++)_.push(y(5*t,0));for(var n=c(f.fromJSON(r.inputUnit),"knots"),a=e.width,i=e.height,o=e.mask,h=e.pixels[0],u=e.pixels[1],l=6,v=[],d=[],p=0,g=0,m=0;m<i;m++)for(var w=0;w<a;w++){var x=m*a+w,M=h[x]*n;if((!o||o[m*a+w])&&M>=s){var k,Z=null!=(k=(u[x]+360)%360/180*Math.PI)?k:2*Math.PI*Math.random(),b=_[Math.min(Math.floor(M/5),29)],A=b.pennants,P=b.barbs,I=b.shaft;if(A.length+P.length===0)continue;for(var F=v.length/l,S=(w+.5)/a,D=(m+.5)/i,V=0;V<A.length;V+=2)v[p++]=S,v[p++]=D,v[p++]=A[V],v[p++]=A[V+1]+Z,v[p++]=0,v[p++]=M;for(var T=0;T<P.length;T+=2)v[p++]=S,v[p++]=D,v[p++]=P[T],v[p++]=P[T+1]+Z,v[p++]=0,v[p++]=M;for(var R=0;R<I.length;R+=2)v[p++]=S,v[p++]=D,v[p++]=I[R],v[p++]=I[R+1]+Z,v[p++]=0,v[p++]=M;for(var L=0;L<A.length/6;L++)d[g++]=F,d[g++]=F+1,d[g++]=F+2,F+=3;for(var U=0;U<P.length/8;U++)d[g++]=F,d[g++]=F+1,d[g++]=F+2,d[g++]=F+1,d[g++]=F+2,d[g++]=F+3,F+=4;d[g++]=F+0,d[g++]=F+1,d[g++]=F+2,d[g++]=F+1,d[g++]=F+3,d[g++]=F+2,F+=4}}return{vertexData:new Float32Array(v),indexData:new Uint32Array(d)}}function D(e,r){for(var t=24,n=0,a=0,i=e.width,o=e.height,h=e.mask,u=e.pixels[0],l=[],f=[],c="wind_speed"===r.style?s:Number.MAX_VALUE,v=0;v<o;v++)for(var d=0;d<i;d++){var p=v*i+d;if((!h||h[v*i+d])&&u[p]<c){for(var g=0;g<4;g++)l[n++]=(d+.5)/i,l[n++]=(v+.5)/o,l[n++]=g<2?-.5:.5,l[n++]=g%2==0?-.5:.5,l[n++]=0,l[n++]=u[p];var m=4*(n/t-1);f[a++]=m,f[a++]=m+1,f[a++]=m+2,f[a++]=m+1,f[a++]=m+2,f[a++]=m+3}}return{vertexData:new Float32Array(l),indexData:new Uint32Array(f)}}function V(e,r){return"simple_scalar"===r.style?D(e,r):"wind_speed"===r.style?S(e,r):F(e,r)}function T(e,r,t){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,h=e.width,u=e.height,l=e.mask,s=(0,n.Z)(e.pixels,2),f=s[0],c=s[1],v=(0,n.Z)(a,2),g=v[0],m=v[1],w=Math.round((h-g)/t),x=Math.round((u-m)/t),M=w*x,y=new Float32Array(M),k=new Float32Array(M),Z=new Uint8Array(M),b="vector-uv"===r,A=0;A<x;A++)for(var P=0;P<w;P++){for(var I=0,F=A*w+P,_=Math.max(0,A*t+m),S=Math.max(0,P*t+g),D=Math.min(u,_+t),V=Math.min(h,S+t),T=_;T<D;T++)for(var R=S;R<V;R++){var L=T*h+R;if(!l||l[L]){I++;var U=b?[f[L],c[L]]:[f[L],(360+c[L])%360],C=b?U:p(U),B=(0,n.Z)(C,2),O=B[0],q=B[1];y[F]+=O,k[F]+=q}}if(I>=(D-_)*(V-S)*(1-i)){Z[F]=1;var K=d([y[F]/I,k[F]/I]),N=(0,n.Z)(K,2),W=N[0],E=N[1];y[F]=W,k[F]=E}else Z[F]=0,y[F]=0,k[F]=0}var H=new o.Z({width:w,height:x,pixels:[y,k],mask:Z});return H.updateStatistics(),H}},94292:function(e,r,t){t.d(r,{KK:function(){return b},z_:function(){return p}});var n=t(62032),a=t(2394),i=t(16198),o=(t(78975),t(41539),t(65125),t(48675),t(92990),t(18927),t(33105),t(35035),t(74345),t(7174),t(32846),t(44731),t(77209),t(96319),t(58867),t(37789),t(33739),t(29368),t(14483),t(12056),t(3462),t(30678),t(27462),t(33824),t(55021),t(12974),t(15016),t(2707),t(44197),t(29135),t(78783),t(33948),t(75065),t(87441)),h=t(14937),u=t(27092),l=t(24446),s=t(88824),f=t(71563),c=t(7230),v=o.Z.getLogger("esri.views.2d.engine.flow.dataUtils"),d=8;function p(e,r,t){return g.apply(this,arguments)}function g(){return g=(0,i.Z)(regeneratorRuntime.mark((function e(r,t,n){var a,i,o,h,u,s,f,c,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=performance.now(),i=m(r,t),o=performance.now(),h=x(r,i,t.width,t.height),u=performance.now(),s=y(h,!0),f=performance.now(),c=k(s),d=performance.now(),r.profile&&(p={"_createFlowFieldFromData()":Math.round(o-a),"_getStreamlines()":Math.round(u-o),"createAnimatedLinesData()":Math.round(f-u),"createLinesMesh()":Math.round(d-f),"Total elapsed time":Math.round(d-a)},v.info("createStreamlinesMesh profile",p)),e.next=4,Promise.resolve();case 4:return(0,l.k_)(n),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function m(e,r){var t=M(r.data,r.width,r.height,e.smoothing);return e.interpolate?function(e,n){var a=Math.floor(e),i=Math.floor(n);if(a<0||a>=r.width)return[0,0];if(i<0||i>=r.height)return[0,0];var o=e-a,h=n-i,u=a,l=i,s=a<r.width-1?a+1:a,f=i<r.height-1?i+1:i,c=t[2*(l*r.width+u)],v=t[2*(l*r.width+s)],d=t[2*(f*r.width+u)],p=t[2*(f*r.width+s)],g=t[2*(l*r.width+u)+1],m=t[2*(l*r.width+s)+1];return[(c*(1-h)+d*h)*(1-o)+(v*(1-h)+p*h)*o,(g*(1-h)+t[2*(f*r.width+u)+1]*h)*(1-o)+(m*(1-h)+t[2*(f*r.width+s)+1]*h)*o]}:function(e,n){var a=Math.round(e),i=Math.round(n);return a<0||a>=r.width||i<0||i>=r.height?[0,0]:[t[2*(i*r.width+a)+0],t[2*(i*r.width+a)+1]]}}function w(e,r,t,n,i,o,h,u,l){var s,f,c=[],v=t,d=n,p=0;c.push({x:v,y:d,t:p});for(var g=0;g<e.verticesPerLine;g++){var m=r(v,d),w=(0,a.Z)(m,2),x=w[0],M=w[1];x*=e.velocityScale,M*=e.velocityScale;var y=Math.sqrt(x*x+M*M);if(y<e.minSpeedThreshold)return c;var k=x/y,Z=M/y;if(v+=k*e.segmentLength,d+=Z*e.segmentLength,p+=e.segmentLength/y,Math.acos(k*s+Z*f)>e.maxTurnAngle)return c;if(e.mergeLines){var b=Math.round(v*l),A=Math.round(d*l);if(b<0||b>h-1||A<0||A>u-1)return c;var P=o[A*h+b];if(-1!==P&&P!==i)return c;o[A*h+b]=i}c.push({x:v,y:d,t:p}),s=k,f=Z}return c}function x(e,r,t,n){for(var a=[],i=new s.Z,o=1/Math.max(e.lineCollisionWidth,1),h=Math.round(t*o),u=Math.round(n*o),l=new Int32Array(h*u),f=0;f<l.length;f++)l[f]=-1;for(var c=[],v=0;v<n;v+=e.lineSpacing)for(var d=0;d<t;d+=e.lineSpacing)c.push({x:d,y:v,sort:i.getFloat()});c.sort((function(e,r){return e.sort-r.sort}));for(var p=0,g=c;p<g.length;p++){var m=g[p],x=m.x,M=m.y;if(i.getFloat()<e.density){var y=w(e,r,x,M,a.length,l,h,u,o);if(y.length<2)continue;a.push(y)}}return a}function M(e,r,t,n){if(0===n)return e;for(var a=Math.round(3*n),i=new Array(2*a+1),o=0,h=-a;h<=a;h++){var u=Math.exp(-h*h/(n*n));i[h+a]=u,o+=u}for(var l=-a;l<=a;l++)i[l+a]/=o;for(var s=new Float32Array(e.length),f=0;f<t;f++)for(var c=0;c<r;c++){for(var v=0,d=0,p=-a;p<=a;p++)if(!(c+p<0||c+p>=r)){var g=i[p+a];v+=g*e[2*(f*r+(c+p))+0],d+=g*e[2*(f*r+(c+p))+1]}s[2*(f*r+c)+0]=v,s[2*(f*r+c)+1]=d}for(var m=new Float32Array(e.length),w=0;w<r;w++)for(var x=0;x<t;x++){for(var M=0,y=0,k=-a;k<=a;k++)if(!(x+k<0||x+k>=t)){var Z=i[k+a];M+=Z*s[2*((x+k)*r+w)+0],y+=Z*s[2*((x+k)*r+w)+1]}m[2*(x*r+w)+0]=M,m[2*(x*r+w)+1]=y}return m}function y(e,r){var t,a=new s.Z,i=e.reduce((function(e,r){return e+r.length}),0),o=new Float32Array(3*i),h=new Array(e.length),u=0,l=0,f=(0,n.Z)(e);try{for(f.s();!(t=f.n()).done;){var c,v=t.value,d=u,p=(0,n.Z)(v);try{for(p.s();!(c=p.n()).done;){var g=c.value;o[3*u+0]=g.x,o[3*u+1]=g.y,o[3*u+2]=g.t,u++}}catch(m){p.e(m)}finally{p.f()}h[l++]={startVertex:d,numberOfVertices:v.length,totalTime:v[v.length-1].t,timeSeed:r?a.getFloat():0}}}catch(m){f.e(m)}finally{f.f()}return{lineVertices:o,lineDescriptors:h}}function k(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=e.lineVertices,i=e.lineDescriptors,o=0,h=0,u=(0,n.Z)(i);try{for(u.s();!(r=u.n()).done;){var l=r.value;o+=2*l.numberOfVertices,h+=6*(l.numberOfVertices-1)}}catch(q){u.e(q)}finally{u.f()}var s=new Float32Array(o*d),f=new Uint32Array(h),c=0,v=0;function p(){f[v++]=c-2,f[v++]=c,f[v++]=c-1,f[v++]=c,f[v++]=c+1,f[v++]=c-1}function g(e,r,t,n,a,i,o){var h=c*d,u=0;s[h+u++]=e,s[h+u++]=r,s[h+u++]=1,s[h+u++]=t,s[h+u++]=i,s[h+u++]=o,s[h+u++]=n,s[h+u++]=a,c++,s[h+u++]=e,s[h+u++]=r,s[h+u++]=-1,s[h+u++]=t,s[h+u++]=i,s[h+u++]=o,s[h+u++]=-n,s[h+u++]=-a,c++}var m,w=(0,n.Z)(i);try{for(w.s();!(m=w.n()).done;){for(var x=m.value,M=x.totalTime,y=x.timeSeed,k=null,Z=null,b=null,A=null,P=null,I=0;I<x.numberOfVertices;I++){var F=a[3*(x.startVertex+I)+0],_=a[3*(x.startVertex+I)+1],S=a[3*(x.startVertex+I)+2],D=null,V=null,T=null,R=null;if(I>0){D=F-k,V=_-Z;var L=Math.sqrt(D*D+V*V);if(D/=L,V/=L,I>1){var U=D+A,C=V+P,B=Math.sqrt(U*U+C*C);U/=B,C/=B;var O=Math.min(1/(U*D+C*V),t);U*=O,C*=O,T=-C,R=U}else T=-V,R=D;null!==T&&null!==R&&(g(k,Z,b,T,R,M,y),p())}k=F,Z=_,b=S,A=D,P=V}g(k,Z,b,-P,A,M,y)}}catch(q){w.e(q)}finally{w.f()}return{vertexData:s,indexData:f}}function Z(e,r){var t=r.pixels,n=r.width,a=r.height,i=new Float32Array(n*a*2);if("vector-uv"===e)for(var o=0;o<n*a;o++)i[2*o+0]=t[0][o],i[2*o+1]=-t[1][o];else if("vector-magdir"===e)for(var u=0;u<n*a;u++){var l=t[0][u],s=(0,h.Vl)(t[1][u]),f=Math.cos(s-Math.PI/2),c=Math.sin(s-Math.PI/2);i[2*u+0]=f*l,i[2*u+1]=c*l}return{data:i,width:n,height:a}}function b(e,r,t,n,a){return A.apply(this,arguments)}function A(){return A=(0,i.Z)(regeneratorRuntime.mark((function e(r,t,i,o,h){var u,l,s,v,d,p,g,m,w,x,M,y,k,Z,b,A,I,F,_,S;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=(0,f.C5)(t.spatialReference),u){e.next=3;break}return e.abrupt("return",P(r,t,i,o,h));case 3:for(l=(0,a.Z)(u.valid,2),s=l[0],v=l[1],d=v-s,p=Math.ceil(t.width/d),g=t.width/p,m=Math.round(i/p),w=t.xmin,x=[],M=0;M<p;M++)y=new c.Z({xmin:w,xmax:w+g,ymin:t.ymin,ymax:t.ymax,spatialReference:t.spatialReference}),x.push(P(r,y,m,o,h)),w+=g;return e.next=9,Promise.all(x);case 9:k=e.sent,Z={data:new Float32Array(i*o*2),width:i,height:o},b=0,A=(0,n.Z)(k);try{for(A.s();!(I=A.n()).done;){for(F=I.value,_=0;_<F.height;_++)for(S=0;S<F.width;S++)b+S>=i||(Z.data[2*(_*i+b+S)+0]=F.data[2*(_*F.width+S)+0],Z.data[2*(_*i+b+S)+1]=F.data[2*(_*F.width+S)+1]);b+=F.width}}catch(D){A.e(D)}finally{A.f()}return e.abrupt("return",Z);case 15:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function P(e,r,t,n,a){return I.apply(this,arguments)}function I(){return I=(0,i.Z)(regeneratorRuntime.mark((function e(r,t,n,a,i){var o,h,l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("imagery"!==r.type){e.next=8;break}return e.next=3,r.load({signal:i});case 3:return o=r.rasterInfo.dataType,e.next=6,r.fetchImage(t,n,a,{signal:i});case 6:return h=e.sent,e.abrupt("return",!h||(0,u.Wi)(h.pixelData)||(0,u.Wi)(h.pixelData.pixelBlock)?{data:new Float32Array(n*a*2),width:n,height:a}:Z(o,h.pixelData.pixelBlock));case 8:return e.next=10,r.load({signal:i});case 10:return l=r.rasterInfo.dataType,e.next=13,r.fetchPixels(t,n,a,{signal:i});case 13:return s=e.sent,e.abrupt("return",!s||(0,u.Wi)(s.pixelBlock)?{data:new Float32Array(n*a*2),width:n,height:a}:Z(l,s.pixelBlock));case 15:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}}}]);