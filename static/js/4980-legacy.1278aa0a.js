"use strict";(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[4980],{4980:function(e,r,t){t.r(r),t.d(r,{createLabelFunction:function(){return b},formatField:function(){return g}});var n=t(62032),a=t(16198),u=(t(78975),t(68309),t(41539),t(78783),t(33948),t(39714),t(74916),t(15306),t(47042),t(25585)),i=t(87441),l=t(49237),s=t(50236),c=t(63390),o=t(68168),p=t(74887),f=i.Z.getLogger("esri.layers.support.labelFormatUtils"),d={type:"simple",evaluate:function(){return null}},v={getAttribute:function(e,r){return e.field(r)}};function b(e,r,t){return y.apply(this,arguments)}function y(){return y=(0,a.Z)(regeneratorRuntime.mark((function e(r,n,a){var i,l,s,c,b,y,x;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r&&r.symbol){e.next=2;break}return e.abrupt("return",d);case 2:if(i=r.where,l=(0,o.hV)(r),!i){e.next=10;break}return e.next=7,t.e(7263).then(t.bind(t,77263));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:if(s=e.t0,"arcade"!==l.type){e.next=19;break}return e.next=15,(0,p.WW)(l.expression,a,n);case 15:b=e.sent,c={type:"arcade",evaluate:function(e){try{var r=b.evaluate({$feature:"attributes"in e?b.repurposeFeature(e):b.repurposeAdapter(e)});if(null!=r)return r.toString()}catch(a){f.error(new u.Z("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:e,expression:l}))}return null},needsHydrationToEvaluate:function(){return null==(0,o.el)(l.expression)}},e.next=20;break;case 19:c={type:"simple",evaluate:function(e){return l.expression.replace(/{[^}]*}/g,(function(r){var t=r.slice(1,-1),a=n.get(t);if(!a)return r;var u=null;return"attributes"in e?e&&e.attributes&&(u=e.attributes[a.name]):u=e.field(a.name),null==u?"":g(u,a)}))}};case 20:if(!i){e.next=30;break}e.prev=21,y=s.WhereClause.create(i,n),e.next=28;break;case 25:return e.prev=25,e.t1=e["catch"](21),e.abrupt("return",d);case 28:x=c.evaluate,c.evaluate=function(e){var r="attributes"in e?void 0:v;return y.testFeature(e,r)?x(e):null};case 30:return e.abrupt("return",c);case 31:case"end":return e.stop()}}),e,null,[[21,25]])}))),y.apply(this,arguments)}function g(e,r){if(null==e)return"";var t=r.domain;if(t)if("codedValue"===t.type||"coded-value"===t.type){var a,u=e,i=(0,n.Z)(t.codedValues);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.code===u)return o.name}}catch(b){i.e(b)}finally{i.f()}}else if("range"===t.type){var p=+e,f="range"in t?t.range[0]:t.minValue,d="range"in t?t.range[1]:t.maxValue;if(f<=p&&p<=d)return t.name}var v=e;return"date"===r.type||"esriFieldTypeDate"===r.type?v=(0,l.p6)(v,(0,l.Ze)("short-date")):(0,c.H7)(r)&&(v=(0,s.uf)(+v)),v||""}}}]);