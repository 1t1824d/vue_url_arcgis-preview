"use strict";(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[5703],{75703:function(e,t,n){n.r(t),n.d(t,{loadGLTFMesh:function(){return R}});var r=n(62032),o=n(16198),a=(n(92222),n(41539),n(39714),n(51532),n(78783),n(33948),n(47042),n(54747),n(78975),n(47038)),u=n(35680),c=n(43713),i=n(27092),s=n(68491),l=n(88250),f=n(42325),p=n(56144),m=n(30128),g=n(31967),d=n(66885),v=n(65649),h=n(16886),C=n(37589),w=n(90314),x=n(40748),y=n(8746),b=n(83394),A=n(64798),S=n(86114),M=n(52421),Z=n(96773),k=n(45267),B=n(58691),T=n(81032);function R(e,t,n){return F.apply(this,arguments)}function F(){return F=(0,o.Z)(regeneratorRuntime.mark((function e(t,n,o){var a,u,c,s,l,f,p,m,g,d,h,C,w,x,S,M,Z;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new b.C(E(o)),e.next=3,(0,A.z)(a,n,o,!0);case 3:u=e.sent.model,c=u.lods.shift(),s=new Map,l=new Map,u.textures.forEach((function(e,t){return s.set(t,D(e))})),u.materials.forEach((function(e,t){return l.set(t,I(e,s))})),f=z(c),p=(0,r.Z)(f.parts);try{for(p.s();!(m=p.n()).done;)g=m.value,L(f,g,l)}catch(k){p.e(k)}finally{p.f()}return d=f.vertexAttributes,h=d.position,C=d.normal,w=d.tangent,x=d.color,S=d.texCoord0,M={position:h.typedBuffer,normal:(0,i.pC)(C)?C.typedBuffer:null,tangent:(0,i.pC)(w)?w.typedBuffer:null,uv:(0,i.pC)(S)?S.typedBuffer:null,color:(0,i.pC)(x)?x.typedBuffer:null},Z=(0,y.w1)(M,t,o),e.abrupt("return",{transform:Z.transform,components:f.components,spatialReference:t.spatialReference,vertexAttributes:new v.ZP({position:Z.vertexAttributes.position,normal:Z.vertexAttributes.normal,tangent:Z.vertexAttributes.tangent,color:M.color,uv:M.uv})});case 13:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function E(e){return null!=e&&e.resolveFile?{busy:!1,request:function(){var t=(0,o.Z)(regeneratorRuntime.mark((function t(n,r,o){var a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.resolveFile(n),c="image"===r?"image":"binary"===r?"array-buffer":"json",t.next=3,(0,u["default"])(a,{responseType:c,signal:(0,i.pC)(o)?o.signal:null});case 3:return t.abrupt("return",t.sent.data);case 4:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()}:null}function W(e,t){if((0,i.Wi)(e))return"-";var n=e.typedBuffer;return"".concat((0,c.s1)(t,n.buffer,(function(){return t.size})),"/").concat(n.byteOffset,"/").concat(n.byteLength)}function _(e){return(0,i.pC)(e)?e.toString():"-"}function z(e){var t,n=0,o={color:!1,tangent:!1,normal:!1,texCoord0:!1},a=new Map,u=new Map,i=[],s=(0,r.Z)(e.parts);try{var l=function(){var e=t.value,r=e.attributes,s=r.position,l=r.normal,f=r.color,p=r.tangent,m=r.texCoord0,g="\n      ".concat(W(s,a),"/\n      ").concat(W(l,a),"/\n      ").concat(W(f,a),"/\n      ").concat(W(p,a),"/\n      ").concat(W(m,a),"/\n      ").concat(_(e.transform),"\n    "),d=!1,v=(0,c.s1)(u,g,(function(){return d=!0,{start:n,length:s.count}}));d&&(n+=s.count),l&&(o.normal=!0),f&&(o.color=!0),p&&(o.tangent=!0),m&&(o.texCoord0=!0),i.push({gltf:e,writeVertices:d,region:v})};for(s.s();!(t=s.n()).done;)l()}catch(f){s.e(f)}finally{s.f()}return{vertexAttributes:{position:(0,x.gS)(h.fP,n),normal:o.normal?(0,x.gS)(h.ct,n):null,tangent:o.tangent?(0,x.gS)(h.ek,n):null,color:o.color?(0,x.gS)(h.mc,n):null,texCoord0:o.texCoord0?(0,x.gS)(h.Eu,n):null},parts:i,components:[]}}function D(e){return new d.Z({data:e.data,wrap:j(e.parameters.wrap)})}function I(e,t){var n=new a.Z(V(e.color,e.opacity)),r=e.emissiveFactor?new a.Z(X(e.emissiveFactor)):null;return new g.Z({color:n,colorTexture:(0,i.Wg)((0,i.yw)(e.textureColor,(function(e){return t.get(e)}))),normalTexture:(0,i.Wg)((0,i.yw)(e.textureNormal,(function(e){return t.get(e)}))),emissiveColor:r,emissiveTexture:(0,i.Wg)((0,i.yw)(e.textureEmissive,(function(e){return t.get(e)}))),occlusionTexture:(0,i.Wg)((0,i.yw)(e.textureOcclusion,(function(e){return t.get(e)}))),alphaMode:P(e.alphaMode),alphaCutoff:e.alphaCutoff,doubleSided:e.doubleSided,metallic:e.metallicFactor,roughness:e.roughnessFactor,metallicRoughnessTexture:(0,i.Wg)((0,i.yw)(e.textureMetallicRoughness,(function(e){return t.get(e)})))})}function L(e,t,n){t.writeVertices&&N(e,t);var r=t.gltf,o=O(r.indices||r.attributes.position.count,r.primitiveType),a=t.region.start;if(a)for(var u=0;u<o.length;u++)o[u]+=a;e.components.push(new m.Z({faces:o,material:n.get(r.material),trustSourceNormals:!0}))}function N(e,t){var n=e.vertexAttributes,r=n.position,o=n.normal,a=n.tangent,u=n.color,c=n.texCoord0,f=t.region.start,p=t.gltf,m=p.attributes,g=p.transform,d=m.position.count;if((0,C.t)(r.slice(f,d),m.position,g),(0,i.pC)(m.normal)&&(0,i.pC)(o)){var v=(0,s.a)((0,l.c)(),g);(0,C.a)(o.slice(f,d),m.normal,v)}else(0,i.pC)(o)&&(0,k.f)(o,0,0,1,{dstIndex:f,count:d});if((0,i.pC)(m.tangent)&&(0,i.pC)(a)){var x=(0,s.a)((0,l.c)(),g);(0,w.t)(a.slice(f,d),m.tangent,x)}else(0,i.pC)(a)&&(0,B.f)(a,0,0,1,1,{dstIndex:f,count:d});if((0,i.pC)(m.texCoord0)&&(0,i.pC)(c)?(0,T.n)(c.slice(f,d),m.texCoord0):(0,i.pC)(c)&&(0,T.f)(c,0,0,{dstIndex:f,count:d}),(0,i.pC)(m.color)&&(0,i.pC)(u)){var y=m.color,b=u.slice(f,d);if(4===y.elementCount)y instanceof h.ek?(0,w.s)(b,y,255):y instanceof h.mc?(0,B.c)(b,y):y instanceof h.v6&&(0,w.a)(b,y,8);else{(0,B.f)(b,255,255,255,255);var A=h.ne.fromTypedArray(b.typedBuffer,b.typedBufferStride);y instanceof h.ct?(0,C.s)(A,y,255):y instanceof h.ne?(0,k.c)(A,y):y instanceof h.mw&&(0,C.b)(A,y,8)}}else(0,i.pC)(u)&&(0,B.f)(u.slice(f,d),255,255,255,255)}function O(e,t){switch(t){case 4:return(0,S.nh)(e,M.DX);case 5:return(0,S.DA)(e);case 6:return(0,S.jX)(e)}}function P(e){switch(e){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function j(e){return{horizontal:q(e.s),vertical:q(e.t)}}function q(e){switch(e){case 33071:return"clamp";case 33648:return"mirror";case 10497:return"repeat"}}function K(e){return 255*Math.pow(e,1/Z.K)}function V(e,t){return(0,p.f)(K(e[0]),K(e[1]),K(e[2]),t)}function X(e){return(0,f.f)(K(e[0]),K(e[1]),K(e[2]))}}}]);