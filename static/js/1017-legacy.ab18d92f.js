"use strict";(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[1017],{11017:function(e,r,t){t.r(r),t.d(r,{default:function(){return I}});var i=t(76133),n=t(92751),a=t(99418),s=t(49161),o=t(63825),u=t(2553),l=(t(57787),t(35425),t(90202),t(92236)),p=t(4367),c=t(16198),f=(t(78975),t(47042),t(41539),t(54747),t(35680)),y=t(20925),d=t(61859),v=t(95661),m=t(19724),B=(t(21249),t(75065),t(7380)),b=t(71741),Z=t(27092),g=t(66667),_=t(7730),h=t(74874),k=t(7804),C=t(85016),R=t(54787),P=t(12523),A=t(72110);function N(e){return e.features.map((function(r){var t=_.Z.fromJSON(e.spatialReference),i=B.Z.fromJSON(r);return(0,Z.pC)(i.geometry)&&(i.geometry.spatialReference=t),i}))}function S(e){return k["default"].fromJSON(e).features.map((function(e){return e.geometry}))}var w=function(e){(0,a.Z)(t,e);var r=(0,s.Z)(t);function t(e){var n;return(0,i.Z)(this,t),n=r.call(this,e),n.directions=null,n.facilities=null,n.incidents=null,n.messages=null,n.pointBarriers=null,n.polylineBarriers=null,n.polygonBarriers=null,n.routes=null,n}return(0,n.Z)(t,[{key:"readFacilities",value:function(e){return S(e)}},{key:"readIncidents",value:function(e){return S(e)}},{key:"readPointBarriers",value:function(e,r){return S(r.barriers)}},{key:"readPolylineBarriers",value:function(e){return S(e)}},{key:"readPolygonBarriers",value:function(e){return S(e)}},{key:"readRoutes",value:function(e){return N(e)}}]),t}(b.wq);(0,o._)([(0,u.Cb)({type:[h.Z]})],w.prototype,"directions",void 0),(0,o._)([(0,u.Cb)({type:[R.Z]})],w.prototype,"facilities",void 0),(0,o._)([(0,g.r)("facilities")],w.prototype,"readFacilities",null),(0,o._)([(0,u.Cb)({type:[R.Z]})],w.prototype,"incidents",void 0),(0,o._)([(0,g.r)("incidents")],w.prototype,"readIncidents",null),(0,o._)([(0,u.Cb)({type:[C.Z]})],w.prototype,"messages",void 0),(0,o._)([(0,u.Cb)({type:[R.Z]})],w.prototype,"pointBarriers",void 0),(0,o._)([(0,g.r)("pointBarriers",["barriers"])],w.prototype,"readPointBarriers",null),(0,o._)([(0,u.Cb)({type:[P.Z]})],w.prototype,"polylineBarriers",void 0),(0,o._)([(0,g.r)("polylineBarriers")],w.prototype,"readPolylineBarriers",null),(0,o._)([(0,u.Cb)({type:[A.Z]})],w.prototype,"polygonBarriers",void 0),(0,o._)([(0,g.r)("polygonBarriers")],w.prototype,"readPolygonBarriers",null),(0,o._)([(0,u.Cb)({type:[B.Z]})],w.prototype,"routes",void 0),(0,o._)([(0,g.r)("routes")],w.prototype,"readRoutes",null),w=(0,o._)([(0,l.j)("esri.rest.support.ClosestFacilitySolveResult")],w);var x=w,F=(0,y.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});function J(e,r,t){return O.apply(this,arguments)}function O(){return O=(0,c.Z)(regeneratorRuntime.mark((function e(r,t,i){var n,a,s,o,u,l,c,y,B,b,Z,g,_,h,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],a=[],s={},o={},u=(0,m.en)(r),l=u.path,t.incidents&&t.incidents.features&&(0,v.et)(t.incidents.features,a,"incidents.features",s),t.facilities&&t.facilities.features&&(0,v.et)(t.facilities.features,a,"facilities.features",s),t.pointBarriers&&t.pointBarriers.features&&(0,v.et)(t.pointBarriers.features,a,"pointBarriers.features",s),t.polylineBarriers&&t.polylineBarriers.features&&(0,v.et)(t.polylineBarriers.features,a,"polylineBarriers.features",s),t.polygonBarriers&&t.polygonBarriers.features&&(0,v.et)(t.polygonBarriers.features,a,"polygonBarriers.features",s),e.next=4,(0,d.aX)(a);case 4:for(y in c=e.sent,s)B=s[y],n.push(y),o[y]=c.slice(B[0],B[1]);if(!(0,v.Wf)(o,n)){e.next=17;break}return b=null,e.prev=8,e.next=11,(0,v.bI)(l,t.apiKey,i);case 11:b=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](8);case 16:b&&!b.hasZ&&(0,v.ef)(o,n);case 17:for(g in Z=function(e){o[e].forEach((function(r,i){t.get(e)[i].geometry=r}))},o)Z(g);return _=(0,p.Z)((0,p.Z)({},i),{},{query:(0,p.Z)((0,p.Z)((0,p.Z)({},u.query),F.toQueryParams(t)),{},{f:"json"})}),e.next=22,(0,f["default"])("".concat(l,"/solveClosestFacility"),_);case 22:return h=e.sent,k=h.data,e.abrupt("return",x.fromJSON(k));case 25:case"end":return e.stop()}}),e,null,[[8,14]])}))),O.apply(this,arguments)}var j=t(31760),q=function(e){(0,a.Z)(t,e);var r=(0,s.Z)(t);function t(e){var n;return(0,i.Z)(this,t),n=r.call(this,e),n.url=null,n}return(0,n.Z)(t,[{key:"solve",value:function(e,r){return J(this.url,e,r)}}]),t}(j.Z);(0,o._)([(0,u.Cb)()],q.prototype,"url",void 0),q=(0,o._)([(0,l.j)("esri.tasks.ClosestFacilityTask")],q);var I=q}}]);