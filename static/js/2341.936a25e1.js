"use strict";(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[2341],{43206:function(e,t,n){n.d(t,{B3:function(){return i},Op:function(){return o},U:function(){return s},n1:function(){return r}});n(35425);function r(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8;default:return}}function i(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function s(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function o(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}},13738:function(e,t,n){n.d(t,{d:function(){return i}});n(48675),n(3462);var r=n(14937);function i(e,t,n){var i;const u=e.byteLength/(4*t),f=new Uint32Array(e,0,u*t);let l=new Uint32Array(u);const d=null!=(i=null==n?void 0:n.minReduction)?i:0,h=(null==n?void 0:n.originalIndices)||null,p=h?h.length:0,g=(null==n?void 0:n.componentOffsets)||null;let m=0;if(g)for(let r=0;r<g.length-1;r++){const e=g[r+1]-g[r];e>m&&(m=e)}else m=u;const w=Math.floor(1.1*m)+1;(null==a||a.length<2*w)&&(a=new Uint32Array((0,r.Sf)(2*w)));for(let r=0;r<2*w;r++)a[r]=0;let v=0;const y=!!g&&!!h,A=y?p:u,b=y?new Uint32Array(p):null,F=1.96;let N=0!==d?Math.ceil(4*F*F/(d*d)*d*(1-d)):A,I=1,U=g?g[1]:A;for(let r=0;r<A;r++){if(r===N){const e=1-v/r;if(e+F*Math.sqrt(e*(1-e)/r)<d)return null;N*=2}if(r===U){for(let e=0;e<2*w;e++)a[e]=0;if(h)for(let e=g[I-1];e<g[I];e++)b[e]=l[h[e]];U=g[++I]}const e=y?h[r]:r,n=e*t,i=c(f,n,t);let o=i%w,u=v;for(;0!==a[2*o+1];){if(a[2*o]===i){const e=a[2*o+1]-1;if(s(f,n,e*t,t)){u=l[e];break}}o++,o>=w&&(o-=w)}u===v&&(a[2*o]=i,a[2*o+1]=e+1,v++),l[e]=u}if(0!==d&&1-v/u<d)return null;if(y){for(let e=g[I-1];e<b.length;e++)b[e]=l[h[e]];l=b}const E=new Uint32Array(t*v);v=0;for(let r=0;r<A;r++)l[r]===v&&(o(f,(y?h[r]:r)*t,E,v*t,t),v++);if(h&&!y){const e=new Uint32Array(p);for(let t=0;t<e.length;t++)e[t]=l[h[t]];l=e}return{buffer:E.buffer,indices:l,uniqueCount:v}}function s(e,t,n,r){for(let i=0;i<r;i++)if(e[t+i]!==e[n+i])return!1;return!0}function o(e,t,n,r,i){for(let s=0;s<i;s++)n[r+s]=e[t+s]}function c(e,t,n){let r=0;for(let i=0;i<n;i++)r=e[t+i]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let a=null},80543:function(e,t,n){n.d(t,{U$:function(){return c}});n(48675),n(3462);var r=n(16886),i=n(43206);class s{constructor(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(const n of e.fieldNames){const t=e.fields.get(n);this[n]=new t.constructor(this.buffer,t.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(e,t){const n=this[e];return n&&n.elementCount===t.ElementCount&&n.elementType===t.ElementType?n:null}slice(e,t){return new s(this.layout,this.buffer.slice(e*this.stride,t*this.stride))}copyFrom(e,t,n,r){const i=this.stride;if(i%4==0){const s=new Uint32Array(e.buffer,t*i,r*i/4);new Uint32Array(this.buffer,n*i,r*i/4).set(s)}else{const s=new Uint8Array(e.buffer,t*i,r*i);new Uint8Array(this.buffer,n*i,r*i).set(s)}}}class o{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(e,t){return this.appendField(e,r.Eu,t),this}vec2f64(e,t){return this.appendField(e,r.q6,t),this}vec3f(e,t){return this.appendField(e,r.ct,t),this}vec3f64(e,t){return this.appendField(e,r.fP,t),this}vec4f(e,t){return this.appendField(e,r.ek,t),this}vec4f64(e,t){return this.appendField(e,r.Cd,t),this}mat3f(e,t){return this.appendField(e,r.gK,t),this}mat3f64(e,t){return this.appendField(e,r.ey,t),this}mat4f(e,t){return this.appendField(e,r.bj,t),this}mat4f64(e,t){return this.appendField(e,r.O1,t),this}vec4u8(e,t){return this.appendField(e,r.mc,t),this}f32(e,t){return this.appendField(e,r.ly,t),this}f64(e,t){return this.appendField(e,r.oS,t),this}u8(e,t){return this.appendField(e,r.D_,t),this}u16(e,t){return this.appendField(e,r.av,t),this}i8(e,t){return this.appendField(e,r.Hz,t),this}vec2i8(e,t){return this.appendField(e,r.Vs,t),this}vec2i16(e,t){return this.appendField(e,r.or,t),this}vec2u8(e,t){return this.appendField(e,r.xA,t),this}vec4u16(e,t){return this.appendField(e,r.v6,t),this}u32(e,t){return this.appendField(e,r.Nu,t),this}appendField(e,t,n){const r=t.ElementCount*(0,i.n1)(t.ElementType),s=this.stride;this.fields.set(e,{size:r,constructor:t,offset:s,optional:n}),this.stride+=r,this.fieldNames.push(e)}alignTo(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this}hasField(e){return this.fieldNames.indexOf(e)>=0}createBuffer(e){return new s(this,e)}createView(e){return new s(this,e)}clone(){const e=new o;return e.stride=this.stride,e.fields=new Map,this.fields.forEach(((t,n)=>e.fields.set(n,t))),e.fieldNames=this.fieldNames.slice(),e.BufferType=this.BufferType,e}}function c(){return new o}},42341:function(e,t,n){n.r(t),n.d(t,{work:function(){return J},wrappedWork:function(){return Z}});n(48675),n(3462);var r=n(13738);function i(e,t,n){const r=t/3,i=new Uint32Array(n+1),s=new Uint32Array(n+1),o=(e,t)=>{e<t?i[e+1]++:s[t+1]++};for(let w=0;w<r;w++){const t=e[3*w],n=e[3*w+1],r=e[3*w+2];o(t,n),o(n,r),o(r,t)}let c=0,a=0;for(let w=0;w<n;w++){const e=i[w+1],t=s[w+1];i[w+1]=c,s[w+1]=a,c+=e,a+=t}const u=new Uint32Array(6*r),f=i[n],l=(e,t,n)=>{if(e<t){const r=i[e+1]++;u[2*r]=t,u[2*r+1]=n}else{const r=s[t+1]++;u[2*f+2*r]=e,u[2*f+2*r+1]=n}};for(let w=0;w<r;w++){const t=e[3*w],n=e[3*w+1],r=e[3*w+2];l(t,n,w),l(n,r,w),l(r,t,w)}const d=(e,t)=>{const n=2*e,r=t-e;for(let i=1;i<r;i++){const e=u[n+2*i],t=u[n+2*i+1];let r=i-1;for(;r>=0&&u[n+2*r]>e;r--)u[n+2*r+2]=u[n+2*r],u[n+2*r+3]=u[n+2*r+1];u[n+2*r+2]=e,u[n+2*r+3]=t}};for(let w=0;w<n;w++)d(i[w],i[w+1]),d(f+s[w],f+s[w+1]);const h=new Int32Array(3*r),p=(t,n)=>t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1,g=(e,t)=>{const n=p(e,t);h[3*t+n]=-1},m=(e,t,n,r)=>{const i=p(e,t);h[3*t+i]=r;const s=p(n,r);h[3*r+s]=t};for(let w=0;w<n;w++){let e=i[w];const t=i[w+1];let n=s[w];const r=s[w+1];for(;e<t&&n<r;){const t=u[2*e],r=u[2*f+2*n];t===r?(m(w,u[2*e+1],r,u[2*f+2*n+1]),e++,n++):t<r?(g(w,u[2*e+1]),e++):(g(r,u[2*f+2*n+1]),n++)}for(;e<t;)g(w,u[2*e+1]),e++;for(;n<r;)g(u[2*f+2*n],u[2*f+2*n+1]),n++}return h}var s=n(16886),o=n(80543);function c(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:a(e.layout)}}function a(e){const t=new Array;return e.fields.forEach(((e,n)=>{const r={...e,constructor:f(e.constructor)};t.push([n,r])})),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}const u=[s.ly,s.Eu,s.ct,s.ek,s.gK,s.bj,s.oS,s.q6,s.fP,s.Cd,s.ey,s.O1,s.D_,s.xA,s.ne,s.mc,s.av,s.TS,s.mw,s.v6,s.Nu,s.qt,s.G5,s.hu,s.Hz,s.Vs,s.P_,s.ir,s.o7,s.or,s.n1,s.zO,s.Jj,s.wA,s.PP,s.TN];function f(e){return`${e.ElementType}_${e.ElementCount}`}const l=new Map;u.forEach((e=>l.set(f(e),e)));n(21703);function d(e,t=0){const n=e.stride;return e.fieldNames.filter((t=>{const n=e.fields.get(t).optional;return!(n&&n.glPadding)})).map((r=>{const i=e.fields.get(r),s=i.constructor.ElementCount,o=h(i.constructor.ElementType),c=i.offset,a=!(!i.optional||!i.optional.glNormalized);return{name:r,stride:n,count:s,type:o,offset:c,normalized:a,divisor:t}}))}function h(e){const t=p[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}const p={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126},g=(0,o.U$)().vec3f("position").u16("componentIndex").u16("u16padding"),m=(0,o.U$)().vec2u8("sideness"),w=(d(m),(0,o.U$)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0})),v=w.clone().vec3f("normal"),y=w.clone().vec3f("normalA").vec3f("normalB");new Map([["position0",0],["position1",1],["componentIndex",2],["variantOffset",3],["variantStroke",4],["variantExtension",5],["normal",6],["normalA",6],["normalB",7],["sideness",8]]);var A=n(88824),b=n(30348),F=n(42325);class N{updateSettings(e){this.settings=e,this.edgeHashFunction=e.reducedPrecision?L:S}write(e,t,n){const r=this.edgeHashFunction(n);C.seed=r;const i=C.getIntRange(0,255),s=C.getIntRange(0,this.settings.variants-1),o=.7,c=C.getFloat(),a=255*(.5*k(-(1-Math.min(c/o,1))+Math.max(0,c-o)/(1-o),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,i),e.variantStroke.set(t,s),e.variantExtension.set(t,a)}trim(e,t){return e.slice(0,t)}}const I=new Float32Array(6),U=new Uint32Array(I.buffer),E=new Uint32Array(1);function S(e){const t=I;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],E[0]=5381;for(let n=0;n<U.length;n++)E[0]=31*E[0]+U[n];return E[0]}function L(e){const t=I;t[0]=x(e.position0[0]),t[1]=x(e.position0[1]),t[2]=x(e.position0[2]),t[3]=x(e.position1[0]),t[4]=x(e.position1[1]),t[5]=x(e.position1[2]),E[0]=5381;for(let n=0;n<U.length;n++)E[0]=31*E[0]+U[n];return E[0]}const V=1e4;function x(e){return Math.round(e*V)/V}function k(e,t){const n=e<0?-1:1;return Math.abs(e)**t*n}class B{constructor(){this.commonWriter=new N}updateSettings(e){this.commonWriter.updateSettings(e)}allocate(e){return v.createBuffer(e)}write(e,t,n){this.commonWriter.write(e,t,n),(0,b.b)(T,n.faceNormal0,n.faceNormal1),(0,b.n)(T,T),e.normal.setVec(t,T)}trim(e,t){return this.commonWriter.trim(e,t)}}B.Layout=v,B.glLayout=d(v,1);class M{constructor(){this.commonWriter=new N}updateSettings(e){this.commonWriter.updateSettings(e)}allocate(e){return y.createBuffer(e)}write(e,t,n){this.commonWriter.write(e,t,n),e.normalA.setVec(t,n.faceNormal0),e.normalB.setVec(t,n.faceNormal1)}trim(e,t){return this.commonWriter.trim(e,t)}}M.Layout=y,M.glLayout=d(y,1);const T=(0,F.c)(),C=new A.Z;var D=n(57787),P=n(14937),W=n(17914);const O=-1;function z(e,t,n,r=K){const i=e.vertices.position,s=e.vertices.componentIndex,o=(0,P.Vl)(r.anglePlanar),c=(0,P.Vl)(r.angleSignificantEdge),a=Math.cos(c),u=Math.cos(o),f=R.edge,l=f.position0,d=f.position1,h=f.faceNormal0,p=f.faceNormal1,g=j(e),m=H(e),w=m.length/4,v=t.allocate(w);let y=0;const A=w,F=n.allocate(A);let N=0,I=0,U=0;const E=(0,D.w6)(0,w),S=new Float32Array(w);(0,W.Ed)(S,((e,t,n)=>{i.getVec(m[4*t+0],l),i.getVec(m[4*t+1],d),n[t]=(0,b.i)(l,d)})),E.sort(((e,t)=>S[t]-S[e]));const L=new Array,V=new Array;for(let B=0;B<w;B++){const e=E[B],r=S[e],c=m[4*e+0],w=m[4*e+1],A=m[4*e+2],x=m[4*e+3],k=x===O;if(i.getVec(c,l),i.getVec(w,d),k)(0,b.s)(h,g[3*A+0],g[3*A+1],g[3*A+2]),(0,b.g)(p,h),f.componentIndex=s.get(c),f.cosAngle=(0,b.d)(h,p);else{if((0,b.s)(h,g[3*A+0],g[3*A+1],g[3*A+2]),(0,b.s)(p,g[3*x+0],g[3*x+1],g[3*x+2]),f.componentIndex=s.get(c),f.cosAngle=(0,b.d)(h,p),q(f,u))continue;f.cosAngle<-.9999&&(0,b.g)(p,h)}I+=r,U++,k||_(f,a)?(t.write(v,y++,f),L.push(r)):$(f,o)&&(n.write(F,N++,f),V.push(r))}const x=new Float32Array(L.reverse()),k=new Float32Array(V.reverse());return{regular:{instancesData:t.trim(v,y),lodInfo:{lengths:x}},silhouette:{instancesData:n.trim(F,N),lodInfo:{lengths:k}},averageEdgeLength:I/U}}function _(e,t){return e.cosAngle<t}function q(e,t){return e.cosAngle>t}function $(e,t){const n=(0,P.ZF)(e.cosAngle),r=R.fwd,i=R.ortho;return(0,b.r)(r,e.position1,e.position0),n*((0,b.d)((0,b.c)(i,e.faceNormal0,e.faceNormal1),r)>0?-1:1)>t}function H(e){const t=e.faces.length/3,n=e.faces,r=e.neighbors;let i=0;for(let c=0;c<t;c++){const e=r[3*c+0],t=r[3*c+1],s=r[3*c+2],o=n[3*c+0],a=n[3*c+1],u=n[3*c+2];i+=e===O||o<a?1:0,i+=t===O||a<u?1:0,i+=s===O||u<o?1:0}const s=new Int32Array(4*i);let o=0;for(let c=0;c<t;c++){const e=r[3*c+0],t=r[3*c+1],i=r[3*c+2],a=n[3*c+0],u=n[3*c+1],f=n[3*c+2];(e===O||a<u)&&(s[o++]=a,s[o++]=u,s[o++]=c,s[o++]=e),(t===O||u<f)&&(s[o++]=u,s[o++]=f,s[o++]=c,s[o++]=t),(i===O||f<a)&&(s[o++]=f,s[o++]=a,s[o++]=c,s[o++]=i)}return s}function j(e){const t=e.faces.length/3,n=e.vertices.position,r=e.faces,i=G.v0,s=G.v1,o=G.v2,c=new Float32Array(3*t);for(let a=0;a<t;a++){const e=r[3*a+0],t=r[3*a+1],u=r[3*a+2];n.getVec(e,i),n.getVec(t,s),n.getVec(u,o),(0,b.f)(s,s,i),(0,b.f)(o,o,i),(0,b.c)(i,s,o),(0,b.n)(i,i),c[3*a+0]=i[0],c[3*a+1]=i[1],c[3*a+2]=i[2]}return c}const R={edge:{position0:(0,F.c)(),position1:(0,F.c)(),faceNormal0:(0,F.c)(),faceNormal1:(0,F.c)(),componentIndex:0,cosAngle:0},ortho:(0,F.c)(),fwd:(0,F.c)()},G={v0:(0,F.c)(),v1:(0,F.c)(),v2:(0,F.c)()},K={anglePlanar:4,angleSignificantEdge:35};async function Z(e){const t=Q(e),n=J(t),r=[t.data.buffer];return{result:X(n,r),transferList:r}}function J(e){const t=Y(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return ee.updateSettings(e.writerSettings),te.updateSettings(e.writerSettings),z(t,ee,te)}function Q(e){return{data:g.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indicesBuffer):"Uint16Array"===e.indicesType?new Uint16Array(e.indicesBuffer):void 0,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function X(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:c(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:c(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}function Y(e,t,n,s){if(t)return{faces:n,facesLength:s,neighbors:i(n,s,e.count),vertices:e};const o=(0,r.d)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:s}),c=i(o.indices,s,o.uniqueCount);return{faces:o.indices,facesLength:o.indices.length,neighbors:c,vertices:g.createView(o.buffer)}}const ee=new B,te=new M}}]);