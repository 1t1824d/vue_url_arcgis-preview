"use strict";(self["webpackChunkvue_url_arcgis"]=self["webpackChunkvue_url_arcgis"]||[]).push([[2214],{33480:function(e,n,t){t.d(n,{Hq:function(){return z},Mk:function(){return c},P_:function(){return P},Qp:function(){return N},VO:function(){return w},_D:function(){return g},kZ:function(){return X},kr:function(){return I},nF:function(){return C},tB:function(){return b},ut:function(){return S},vF:function(){return O},zD:function(){return d}});t(48675),t(3462),t(75065);var r=t(25585),o=t(27092),i=t(19509),s=t(98267),a=t(7230),l=t(54787);const f=5e-4;function c(e,n,t){return!(0,s.Up)(e,n,t)}function u(e,n,t){const o=c(e,n,t);if(o&&!(0,s.kR)())throw new r.Z("rasterprojectionhelper-project","projection engine is not loaded");return o}const p=function(e,n,t){const r=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4,i=(e[4*n.cols]-e[0]+e[4*n.cols+4]-e[4])/t[0]*.5,s=(e[4*n.cols+1]-e[1]+e[4*n.cols+5]-e[5])/t[1]*.5;return[0===i||isNaN(i)?0:Math.abs(r-e[2*n.rows+2])/Math.abs(i),0===s||isNaN(s)?0:Math.abs(o-e[2*n.rows+3])/Math.abs(s)]},x={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},m=32,h=4,y=h;async function d(){if((0,s.kR)())return null;await(0,s.zD)()}function g(e,n,t){return u(e.spatialReference,n)?t?(0,s.rS)(n,e.spatialReference,e):(0,s.rS)(e.spatialReference,n,e):null}function w(e,n,t,r=null){if(e.spatialReference.equals(n))return e;u(e.spatialReference,n,r);const i=t.center,l=new a.Z({xmin:i.x-e.x/2,xmax:i.x+e.x/2,ymin:i.y-e.y/2,ymax:i.y+e.y/2,spatialReference:e.spatialReference}),f=(0,s.iV)(l,n,r);return(0,o.Wi)(f)?null:{x:f.xmax-f.xmin,y:f.ymax-f.ymin}}function v(e,n=.01){return(0,i.c9)(e)?n/(0,i.c9)(e):0}function C(e,n,t=null,r=!0){const o=e.spatialReference;if(o.equals(n))return e;u(o,n,t);const i=(0,s.iV)(e,n,t);if(r&&n.isGeographic){const[n,t]=Z(o,!0),r=v(o);r&&null!=n&&null!=t&&(Math.abs(e.x-n)<r&&Math.abs(180-i.x)<f?i.x-=360:Math.abs(e.x-t)<r&&Math.abs(180+i.x)<f&&(i.x+=360))}return i}function M(e,n,t=null){const r=e[0].spatialReference;return r.equals(n)?e:(u(r,n,t),(0,s.iV)(e,n,t))}function R(e){const n=S(e[0].spatialReference);if(e.length<2||!(0,o.pC)(n))return e[0];let{xmin:t,xmax:r,ymin:i,ymax:s}=e[0];for(let o=1;o<e.length;o++){const t=e[o];r=t.xmax+n*o,i=Math.min(i,t.ymin),s=Math.max(s,t.ymax)}return new a.Z({xmin:t,xmax:r,ymin:i,ymax:s,spatialReference:e[0].spatialReference})}function b(e,n,t=null,r=!0){if(e.spatialReference.equals(n))return e;const i=z(e),s=S(e.spatialReference,!0);return(0,o.pC)(s)&&0!==i?R(e.clone().normalize().map((e=>_(e,n,t,r)))):_(e,n,t,r)}function _(e,n,t=null,r=!0){const o=e.spatialReference;if(o.equals(n))return e;u(o,n,t);const i=(0,s.iV)(e,n,t);let[a,c]=Z(o,!0);if(i&&r&&o.isWebMercator&&n.isGeographic&&null!=a&&null!=c){const r=.001,s=1e3;if(Math.abs(e.xmin-a)<r&&Math.abs(c-e.xmax)>s&&Math.abs(180-i.xmax)<f){i.xmin=-180;const r=[];r.push(new l.Z(e.xmax,e.ymin,o)),r.push(new l.Z(e.xmax,(e.ymin+e.ymax)/2,o)),r.push(new l.Z(e.xmax,e.ymax,o));const s=r.map((e=>C(e,n,t))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));i.xmax=Math.max.apply(null,s)}if(Math.abs(e.xmax-c)<r&&Math.abs(a-e.xmin)>s&&Math.abs(180+i.xmin)<f){i.xmax=180;const r=[];r.push(new l.Z(e.xmin,e.ymin,o)),r.push(new l.Z(e.xmin,(e.ymin+e.ymax)/2,o)),r.push(new l.Z(e.xmin,e.ymax,o));const s=r.map((e=>C(e,n,t))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));i.xmin=Math.min.apply(null,s)}}[a,c]=Z(n,!0);const p=v(n);return p&&null!=a&&null!=c&&i&&(Math.abs(i.xmin-a)<p&&(i.xmin=a),Math.abs(i.xmax-c)<p&&(i.xmax=c)),i}function S(e,n=!1){const t=n?20037508.342787:20037508.342788905;return e.isWebMercator?2*t:e.wkid&&e.isGeographic?360:2*x[e.wkid]||null}function Z(e,n=!1){const t=[],r=S(e,n);return(0,o.pC)(r)&&(t.push(-r/2),t.push(r/2)),t}function T(e,n,t,r){let o=(e-n)/t;return o-Math.floor(o)!=0?o=Math.floor(o):r&&(o-=1),o}function z(e,n=!1){const t=S(e.spatialReference);if(!(0,o.pC)(t))return 0;const r=n?0:-t/2;return T(e.xmax,r,t,!0)-T(e.xmin,r,t,!1)}function P(e){const n=e.storageInfo.origin.x,t=S(e.spatialReference,!0);if(!(0,o.pC)(t))return{originX:n,halfWorldWidth:null,pyramidsInfo:null};const r=t/2,{nativePixelSize:i,storageInfo:s,extent:a}=e,{maximumPyramidLevel:l,blockWidth:f,pyramidScalingFactor:c}=s;let u=i.x;const p=[],x=(0,o.pC)(e.transform)&&"gcs-shift"===e.transform.type,m=n+(x?0:r),h=x?t-n:r-n;for(let o=0;o<=l;o++){const e=(a.xmax-n)/u/f,t=e-Math.floor(e)==0?e:Math.ceil(e),r=h/u/f,o=r-Math.floor(r)==0?r:Math.ceil(r),i=Math.floor(m/u/f),s=Math.round(m/u)%f,l=(f-Math.round(h/u)%f)%f;p.push({resolutionX:u,blockWidth:f,datsetColumnCount:t,worldColumnCountFromOrigin:o,leftMargin:s,rightPadding:l,originColumnOffset:i}),u*=c}return{originX:n,halfWorldWidth:r,pyramidsInfo:p,hasGCSSShiftTransform:x}}function N(e){const n=e.isAdaptive&&null==e.spacing,t=e.spacing||[m,m];let r=k(e),o={cols:r.size[0]+1,rows:r.size[1]+1},i=p(r.offsets,o,t);const s=(i[0]+i[1])/2,a=r.outofBoundPointCount>0&&r.outofBoundPointCount<r.offsets.length/2;return n&&(a||s>y)&&(r=k({...e,spacing:[h,h]}),o={cols:r.size[0]+1,rows:r.size[1]+1},i=p(r.offsets,o,t)),r.error=i,r.coefficients=j(r.offsets,o,a),r}function k(e){const{projectedExtent:n,srcBufferExtent:t,pixelSize:r,datumTransformation:i,rasterTransform:s}=e,a=n.spatialReference,f=t.spatialReference;u(a,f);const{xmin:c,ymin:p,xmax:x,ymax:h}=n,y=S(f),d=e.hasWrapAround||"gcs-shift"===(null==s?void 0:s.type),g=e.spacing||[m,m],w={x:g[0]*r.x,y:g[1]*r.y},v={cols:Math.ceil((x-c)/w.x-.1/g[0])+1,rows:Math.ceil((h-p)/w.y-.1/g[1])+1},C=w.x,R=w.y,b=[];let _,Z=0;const T=[];for(let o=0;o<v.cols;o++)for(let e=0;e<v.rows;e++)T.push(new l.Z({x:c+C*o,y:h-R*e,spatialReference:a}));const z=M(T,f,i);for(let l=0;l<v.cols;l++){const e=[];for(let n=0;n<v.rows;n++){let r=z[l*v.rows+n];s&&(r=s.inverseTransform(r)),e.push(r),l>0&&d&&r&&_[n]&&(0,o.pC)(y)&&r.x<_[n].x&&(r.x+=y),r?(b.push((r.x-t.xmin)/(t.xmax-t.xmin)),b.push((t.ymax-r.y)/(t.ymax-t.ymin))):(b.push(NaN),b.push(NaN),Z++)}_=e}return{offsets:b,error:null,coefficients:null,outofBoundPointCount:Z,spacing:g,size:[v.cols-1,v.rows-1]}}function j(e,n,t){const{cols:r,rows:o}=n,i=new Float32Array((r-1)*(o-1)*2*6),s=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),a=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let l=0;l<r-1;l++){for(let n=0;n<o-1;n++){let t=l*o*2+2*n;const f=e[t],c=e[t+1],u=e[t+2],p=e[t+3];t+=2*o;const x=e[t],m=e[t+1],h=e[t+2],y=e[t+3];let d=0,g=12*(n*(r-1)+l);for(let e=0;e<3;e++)i[g++]=s[d++]*f+s[d++]*u+s[d++]*h;d=0;for(let e=0;e<3;e++)i[g++]=s[d++]*c+s[d++]*p+s[d++]*y;d=0;for(let e=0;e<3;e++)i[g++]=a[d++]*f+a[d++]*x+a[d++]*h;d=0;for(let e=0;e<3;e++)i[g++]=a[d++]*c+a[d++]*m+a[d++]*y}if(t)for(let e=0;e<i.length;e++)isNaN(i[e])&&(i[e]=-1)}return i}function X(e){const n=e.clone().normalize();return 1===n.length?n[0]:R(n)}function I(e,n,t){const{storageInfo:r,pixelSize:i}=n;let s,a=!1;const{pyramidResolutions:f}=r;if((0,o.pC)(f)&&f.length){const r=(e.x+e.y)/2,o=f[f.length-1],c=(o.x+o.y)/2,u=(i.x+i.y)/2;if(r<=u)s=0;else if(r>=c)s=f.length,a=r/c>8;else{let e,n=u;for(let o=1;o<=f.length;o++){if(e=(f[o-1].x+f[o-1].y)/2,r<=e){r===e?s=o:"down"===t?(s=o-1,a=r/n>8):s="up"===t||r-n>e-r||r/n>2?o:o-1;break}n=e}}const p=0===s?i:f[s-1];return{pyramidLevel:s,pyramidResolution:new l.Z({x:p.x,y:p.y,spatialReference:n.spatialReference}),excessiveReading:a}}const c=Math.log(e.x/i.x)/Math.LN2,u=Math.log(e.y/i.y)/Math.LN2,p=n.storageInfo.maximumPyramidLevel||0;s="down"===t?Math.floor(Math.min(c,u)):"up"===t?Math.ceil(Math.max(c,u)):Math.round((c+u)/2),s<0?s=0:s>p&&(a=s>p+3,s=p);const x=2**s;return{pyramidLevel:s,pyramidResolution:new l.Z({x:x*n.nativePixelSize.x,y:x*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:a}}function O(e,n,t=512,r=!0){const{extent:o,spatialReference:s,pixelSize:a}=e,f=w(new l.Z({x:a.x,y:a.y,spatialReference:s}),n,o);if(null==f)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(f.x+f.y)/2,u=(0,i.c9)(n),p=c*u*96*39.37,x=n.isGeographic?256/t*295828763.7958547:256/t*591657527.591555;let m="vector-magdir"===e.dataType||"vector-uv"===e.dataType;const h=b(o,n);m||r&&(n.isGeographic||n.isWebMercator)&&(m=h.xmin*h.xmax<0);let y,d=p;const g=1.001;if(m){d=x;const e=n.isGeographic?1341104507446289e-21:.29858214164761665,t=e*(96*u*39.37),r=n.isGeographic?4326:3857;y=w(new l.Z({x:e,y:e,spatialReference:{wkid:r}}),s,h),y.x*=d/t,y.y*=d/t}else{y={x:a.x,y:a.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;d<x*(g/2)&&t<n;)t++,d*=2,y.x*=2,y.y*=2;Math.max(d,x)/Math.min(d,x)<=g&&(d=x)}const v=[d],C=[{x:y.x,y:y.y}],M=70.5310735,R=Math.min(M,p)/g;for(;d>=R;)d/=2,y.x/=2,y.y/=2,v.push(d),C.push({x:y.x,y:y.y});return{projectedPixelSize:f,scales:v,srcResolutions:C,isCustomTilingScheme:!m}}},14568:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(63825),o=t(71741),i=t(2553),s=(t(57787),t(35425),t(90202),t(92236));let a=class extends o.wq{get affectsPixelSize(){return!1}forwardTransform(e){return e}inverseTransform(e){return e}};(0,r._)([(0,i.Cb)()],a.prototype,"affectsPixelSize",null),(0,r._)([(0,i.Cb)({json:{write:!0}})],a.prototype,"spatialReference",void 0),a=(0,r._)([(0,s.j)("esri.layers.support.rasterTransforms.BaseRasterTransform")],a);const l=a},74540:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(63825),o=t(2553),i=(t(57787),t(35425),t(90202),t(31652)),s=t(92236),a=t(14568);let l=class extends a.Z{constructor(){super(...arguments),this.type="gcs-shift",this.tolerance=1e-8}forwardTransform(e){return"point"===(e=e.clone()).type?(e.x>180+this.tolerance&&(e.x-=360),e):(e.xmin>=180-this.tolerance?(e.xmax-=360,e.xmin-=360):e.xmax>180+this.tolerance&&(e.xmin=-180,e.xmax=180),e)}inverseTransform(e){return"point"===(e=e.clone()).type?(e.x<-this.tolerance&&(e.x+=360),e):(e.xmin<-this.tolerance&&(e.xmin+=360,e.xmax+=360),e)}};(0,r._)([(0,i.J)({GCSShiftXform:"gcs-shift"})],l.prototype,"type",void 0),(0,r._)([(0,o.Cb)()],l.prototype,"tolerance",void 0),l=(0,r._)([(0,s.j)("esri.layers.support.rasterTransforms.GCSShiftTransform")],l);const f=l},37831:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(63825),o=(t(75065),t(2553)),i=(t(57787),t(35425),t(90202),t(31652)),s=t(66667),a=t(92236),l=t(78386),f=t(14568),c=t(54787),u=t(7230);function p(e,n,t){const{x:r,y:o}=n;if(t<2)return{x:e[0]+r*e[2]+o*e[4],y:e[1]+r*e[3]+o*e[5]};if(2===t){const n=r*r,t=o*o,i=r*o;return{x:e[0]+r*e[2]+o*e[4]+n*e[6]+i*e[8]+t*e[10],y:e[1]+r*e[3]+o*e[5]+n*e[7]+i*e[9]+t*e[11]}}const i=r*r,s=o*o,a=r*o,l=i*r,f=i*o,c=r*s,u=o*s;return{x:e[0]+r*e[2]+o*e[4]+i*e[6]+a*e[8]+s*e[10]+l*e[12]+f*e[14]+c*e[16]+u*e[18],y:e[1]+r*e[3]+o*e[5]+i*e[7]+a*e[9]+s*e[11]+l*e[13]+f*e[15]+c*e[17]+u*e[19]}}function x(e,n,t){const{xmin:r,ymin:o,xmax:i,ymax:s,spatialReference:a}=n;let l=[];if(t<2)l.push({x:r,y:s}),l.push({x:i,y:s}),l.push({x:r,y:o}),l.push({x:i,y:o});else{let e=10;for(let n=0;n<e;n++)l.push({x:r,y:o+(s-o)*n/(e-1)}),l.push({x:i,y:o+(s-o)*n/(e-1)});e=8;for(let n=1;n<=e;n++)l.push({x:r+(i-r)*n/e,y:o}),l.push({x:r+(i-r)*n/e,y:s})}l=l.map((n=>p(e,n,t)));const f=l.map((e=>e.x)),c=l.map((e=>e.y));return new u.Z({xmin:Math.min.apply(null,f),xmax:Math.max.apply(null,f),ymin:Math.min.apply(null,c),ymax:Math.max.apply(null,c),spatialReference:a})}function m(e){const[n,t,r,o,i,s]=e,a=r*s-i*o,l=i*o-r*s;return[(i*t-n*s)/a,(r*t-n*o)/l,s/a,o/l,-i/a,-r/l]}let h=class extends f.Z{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial"}readForwardCoefficients(e,n){const{coeffX:t,coeffY:r}=n;if(null==t||!t.length||null==r||!r.length||t.length!==r.length)return null;const o=[];for(let i=0;i<t.length;i++)o.push(t[i]),o.push(r[i]);return o}writeForwardCoefficients(e,n,t){const r=[],o=[];for(let i=0;i<(null==e?void 0:e.length);i++)i%2==0?r.push(e[i]):o.push(e[i]);n.coeffX=r,n.coeffY=o}get inverseCoefficients(){let e=this._get("inverseCoefficients");const n=this._get("forwardCoefficients");return!e&&n&&this.polynomialOrder<2&&(e=m(n)),e}set inverseCoefficients(e){this._set("inverseCoefficients",e)}readInverseCoefficients(e,n){const{inverseCoeffX:t,inverseCoeffY:r}=n;if(null==t||!t.length||null==r||!r.length||t.length!==r.length)return null;const o=[];for(let i=0;i<t.length;i++)o.push(t[i]),o.push(r[i]);return o}writeInverseCoefficients(e,n,t){const r=[],o=[];for(let i=0;i<(null==e?void 0:e.length);i++)i%2==0?r.push(e[i]):o.push(e[i]);n.inverseCoeffX=r,n.inverseCoeffY=o}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(e){if("point"===e.type){const n=p(this.forwardCoefficients,e,this.polynomialOrder);return new c.Z({x:n.x,y:n.y,spatialReference:e.spatialReference})}return x(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if("point"===e.type){const n=p(this.inverseCoefficients,e,this.polynomialOrder);return new c.Z({x:n.x,y:n.y,spatialReference:e.spatialReference})}return x(this.inverseCoefficients,e,this.polynomialOrder)}};(0,r._)([(0,o.Cb)({json:{write:!0}})],h.prototype,"polynomialOrder",void 0),(0,r._)([(0,o.Cb)()],h.prototype,"forwardCoefficients",void 0),(0,r._)([(0,s.r)("forwardCoefficients",["coeffX","coeffY"])],h.prototype,"readForwardCoefficients",null),(0,r._)([(0,l.c)("forwardCoefficients")],h.prototype,"writeForwardCoefficients",null),(0,r._)([(0,o.Cb)({json:{write:!0}})],h.prototype,"inverseCoefficients",null),(0,r._)([(0,s.r)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],h.prototype,"readInverseCoefficients",null),(0,r._)([(0,l.c)("inverseCoefficients")],h.prototype,"writeInverseCoefficients",null),(0,r._)([(0,o.Cb)()],h.prototype,"affectsPixelSize",null),(0,r._)([(0,i.J)({PolynomialXform:"polynomial"})],h.prototype,"type",void 0),h=(0,r._)([(0,a.j)("esri.layers.support.rasterTransforms.PolynomialTransform")],h);const y=h},97047:function(e,n,t){t.d(n,{j:function(){return x},c:function(){return m}});var r=t(74540),o=t(63825),i=(t(87441),t(90202),t(57787),t(35425),t(61726),t(31652)),s=t(92236),a=t(14568);let l=class extends a.Z{constructor(){super(...arguments),this.type="identity"}};(0,o._)([(0,i.J)({IdentityXform:"identity"})],l.prototype,"type",void 0),l=(0,o._)([(0,s.j)("esri.layers.support.rasterTransforms.IdentityTransform")],l);const f=l;var c=t(37831);const u={GCSShiftXform:r.Z,IdentityXform:f,PolynomialXform:c.Z},p=Object.keys(u);function x(e){const n=null==e?void 0:e.type;return!e||p.includes(n)}function m(e){if(!(null==e?void 0:e.type))return null;const n=u[null==e?void 0:e.type];if(n){const t=new n;return t.read(e),t}return null}}}]);